(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[22],{MZF8:function(e,t,n){"use strict";var a=n("ogwx");n.d(t,"a",(function(){return a["b"]}));n("VCU9")},RZMt:function(e,t,n){},WpQk:function(e,t,n){},Zxc8:function(e,t,n){"use strict";n.r(t);var a=n("cDcd"),c=n.n(a),l=n("wx14"),r=n("rePB"),o=n("ODXe"),u=n("U8pU"),i=n("Ff2n"),s=n("VTBJ"),d=n("TSYQ"),m=n.n(d),f=n("Zm9Q"),b=n("5Z9U"),E=n("6cGi"),p=n("KQm4"),v=n("wgJM"),h=n("t23M");function y(e){var t=Object(a["useRef"])(),n=Object(a["useRef"])(!1);function c(){for(var a=arguments.length,c=new Array(a),l=0;l<a;l++)c[l]=arguments[l];n.current||(v["a"].cancel(t.current),t.current=Object(v["a"])((function(){e.apply(void 0,c)})))}return Object(a["useEffect"])((function(){return function(){n.current=!0,v["a"].cancel(t.current)}}),[]),c}function k(e){var t=Object(a["useRef"])([]),n=Object(a["useState"])({}),c=Object(o["a"])(n,2),l=c[1],r=Object(a["useRef"])("function"===typeof e?e():e),u=y((function(){var e=r.current;t.current.forEach((function(t){e=t(e)})),t.current=[],r.current=e,l({})}));function i(e){t.current.push(e),u()}return[r.current,i]}var j=n("4IlW");function g(e,t){var n,c=e.prefixCls,l=e.id,o=e.active,u=e.tab,i=u.key,s=u.tab,d=u.disabled,f=u.closeIcon,b=e.closable,E=e.renderWrapper,p=e.removeAriaLabel,v=e.editable,h=e.onClick,y=e.onRemove,k=e.onFocus,g=e.style,O="".concat(c,"-tab");a["useEffect"]((function(){return y}),[]);var R=v&&!1!==b&&!d;function w(e){d||h(e)}function C(e){e.preventDefault(),e.stopPropagation(),v.onEdit("remove",{key:i,event:e})}var x=a["createElement"]("div",{key:i,ref:t,className:m()(O,(n={},Object(r["a"])(n,"".concat(O,"-with-remove"),R),Object(r["a"])(n,"".concat(O,"-active"),o),Object(r["a"])(n,"".concat(O,"-disabled"),d),n)),style:g,onClick:w},a["createElement"]("div",{role:"tab","aria-selected":o,id:l&&"".concat(l,"-tab-").concat(i),className:"".concat(O,"-btn"),"aria-controls":l&&"".concat(l,"-panel-").concat(i),"aria-disabled":d,tabIndex:d?null:0,onClick:function(e){e.stopPropagation(),w(e)},onKeyDown:function(e){[j["a"].SPACE,j["a"].ENTER].includes(e.which)&&(e.preventDefault(),w(e))},onFocus:k},s),R&&a["createElement"]("button",{type:"button","aria-label":p||"remove",tabIndex:0,className:"".concat(O,"-remove"),onClick:function(e){e.stopPropagation(),C(e)}},f||v.removeIcon||"\xd7"));return E?E(x):x}var O=a["forwardRef"](g),R={width:0,height:0,left:0,top:0};function w(e,t,n){return Object(a["useMemo"])((function(){for(var n,a=new Map,c=t.get(null===(n=e[0])||void 0===n?void 0:n.key)||R,l=c.left+c.width,r=0;r<e.length;r+=1){var o,u=e[r].key,i=t.get(u);if(!i)i=t.get(null===(o=e[r-1])||void 0===o?void 0:o.key)||R;var d=a.get(u)||Object(s["a"])({},i);d.right=l-d.left-d.width,a.set(u,d)}return a}),[e.map((function(e){return e.key})).join("_"),t,n])}var C={width:0,height:0,left:0,top:0,right:0};function x(e,t,n,c,l){var r,o,u,i=l.tabs,s=l.tabPosition,d=l.rtl;["top","bottom"].includes(s)?(r="width",o=d?"right":"left",u=Math.abs(t.left)):(r="height",o="top",u=-t.top);var m=t[r],f=n[r],b=c[r],E=m;return f+b>m&&f<m&&(E=m-b),Object(a["useMemo"])((function(){if(!i.length)return[0,0];for(var t=i.length,n=t,a=0;a<t;a+=1){var c=e.get(i[a].key)||C;if(c[o]+c[r]>u+E){n=a-1;break}}for(var l=0,s=t-1;s>=0;s-=1){var d=e.get(i[s].key)||C;if(d[o]<u){l=s+1;break}}return[l,n]}),[e,u,E,s,i.map((function(e){return e.key})).join("_"),d])}var T=n("1j5w"),S=n("eDIo");function I(e,t){var n=e.prefixCls,c=e.editable,l=e.locale,r=e.style;return c&&!1!==c.showAdd?a["createElement"]("button",{ref:t,type:"button",className:"".concat(n,"-nav-add"),style:r,"aria-label":(null===l||void 0===l?void 0:l.addAriaLabel)||"Add tab",onClick:function(e){c.onEdit("add",{event:e})}},c.addIcon||"+"):null}var N=a["forwardRef"](I);function A(e,t){var n=e.prefixCls,c=e.id,l=e.tabs,u=e.locale,i=e.mobile,s=e.moreIcon,d=void 0===s?"More":s,f=e.moreTransitionName,b=e.style,E=e.className,p=e.editable,v=e.tabBarGutter,h=e.rtl,y=e.removeAriaLabel,k=e.onTabClick,g=Object(a["useState"])(!1),O=Object(o["a"])(g,2),R=O[0],w=O[1],C=Object(a["useState"])(null),x=Object(o["a"])(C,2),I=x[0],A=x[1],_="".concat(c,"-more-popup"),L="".concat(n,"-dropdown"),M=null!==I?"".concat(_,"-").concat(I):null,D=null===u||void 0===u?void 0:u.dropdownAriaLabel;function P(e,t){e.preventDefault(),e.stopPropagation(),p.onEdit("remove",{key:t,event:e})}var B=a["createElement"](T["g"],{onClick:function(e){var t=e.key,n=e.domEvent;k(t,n),w(!1)},id:_,tabIndex:-1,role:"listbox","aria-activedescendant":M,selectedKeys:[I],"aria-label":void 0!==D?D:"expanded dropdown"},l.map((function(e){var t=p&&!1!==e.closable&&!e.disabled;return a["createElement"](T["d"],{key:e.key,id:"".concat(_,"-").concat(e.key),role:"option","aria-controls":c&&"".concat(c,"-panel-").concat(e.key),disabled:e.disabled},a["createElement"]("span",null,e.tab),t&&a["createElement"]("button",{type:"button","aria-label":y||"remove",tabIndex:0,className:"".concat(L,"-menu-item-remove"),onClick:function(t){t.stopPropagation(),P(t,e.key)}},e.closeIcon||p.removeIcon||"\xd7"))})));function F(e){for(var t=l.filter((function(e){return!e.disabled})),n=t.findIndex((function(e){return e.key===I}))||0,a=t.length,c=0;c<a;c+=1){n=(n+e+a)%a;var r=t[n];if(!r.disabled)return void A(r.key)}}function H(e){var t=e.which;if(R)switch(t){case j["a"].UP:F(-1),e.preventDefault();break;case j["a"].DOWN:F(1),e.preventDefault();break;case j["a"].ESC:w(!1);break;case j["a"].SPACE:case j["a"].ENTER:null!==I&&k(I,e);break}else[j["a"].DOWN,j["a"].SPACE,j["a"].ENTER].includes(t)&&(w(!0),e.preventDefault())}Object(a["useEffect"])((function(){var e=document.getElementById(M);e&&e.scrollIntoView&&e.scrollIntoView(!1)}),[I]),Object(a["useEffect"])((function(){R||A(null)}),[R]);var K=Object(r["a"])({},h?"marginRight":"marginLeft",v);l.length||(K.visibility="hidden",K.order=1);var W=m()(Object(r["a"])({},"".concat(L,"-rtl"),h)),z=i?null:a["createElement"](S["a"],{prefixCls:L,overlay:B,trigger:["hover"],visible:R,transitionName:f,onVisibleChange:w,overlayClassName:W,mouseEnterDelay:.1,mouseLeaveDelay:.1},a["createElement"]("button",{type:"button",className:"".concat(n,"-nav-more"),style:K,tabIndex:-1,"aria-hidden":"true","aria-haspopup":"listbox","aria-controls":_,id:"".concat(c,"-more"),"aria-expanded":R,onKeyDown:H},d));return a["createElement"]("div",{className:m()("".concat(n,"-nav-operations"),E),style:b,ref:t},z,a["createElement"](N,{prefixCls:n,locale:u,editable:p}))}var _=a["memo"](a["forwardRef"](A),(function(e,t){return t.tabMoving})),L=Object(a["createContext"])(null),M=.1,D=.01,P=20,B=Math.pow(.995,P);function F(e,t){var n=Object(a["useState"])(),c=Object(o["a"])(n,2),l=c[0],r=c[1],u=Object(a["useState"])(0),i=Object(o["a"])(u,2),s=i[0],d=i[1],m=Object(a["useState"])(0),f=Object(o["a"])(m,2),b=f[0],E=f[1],p=Object(a["useState"])(),v=Object(o["a"])(p,2),h=v[0],y=v[1],k=Object(a["useRef"])();function j(e){var t=e.touches[0],n=t.screenX,a=t.screenY;r({x:n,y:a}),window.clearInterval(k.current)}function g(e){if(l){e.preventDefault();var n=e.touches[0],a=n.screenX,c=n.screenY;r({x:a,y:c});var o=a-l.x,u=c-l.y;t(o,u);var i=Date.now();d(i),E(i-s),y({x:o,y:u})}}function O(){if(l&&(r(null),y(null),h)){var e=h.x/b,n=h.y/b,a=Math.abs(e),c=Math.abs(n);if(Math.max(a,c)<M)return;var o=e,u=n;k.current=window.setInterval((function(){Math.abs(o)<D&&Math.abs(u)<D?window.clearInterval(k.current):(o*=B,u*=B,t(o*P,u*P))}),P)}}var R=Object(a["useRef"])();function w(e){var n=e.deltaX,a=e.deltaY,c=0,l=Math.abs(n),r=Math.abs(a);l===r?c="x"===R.current?n:a:l>r?(c=n,R.current="x"):(c=a,R.current="y"),t(-c,-c)&&e.preventDefault()}var C=Object(a["useRef"])(null);C.current={onTouchStart:j,onTouchMove:g,onTouchEnd:O,onWheel:w},a["useEffect"]((function(){function t(e){C.current.onTouchStart(e)}function n(e){C.current.onTouchMove(e)}function a(e){C.current.onTouchEnd(e)}function c(e){C.current.onWheel(e)}return document.addEventListener("touchmove",n,{passive:!1}),document.addEventListener("touchend",a,{passive:!1}),e.current.addEventListener("touchstart",t,{passive:!1}),e.current.addEventListener("wheel",c),function(){document.removeEventListener("touchmove",n),document.removeEventListener("touchend",a)}}),[])}function H(){var e=Object(a["useRef"])(new Map);function t(t){return e.current.has(t)||e.current.set(t,a["createRef"]()),e.current.get(t)}function n(t){e.current.delete(t)}return[t,n]}function K(e,t){var n=a["useRef"](e),c=a["useState"]({}),l=Object(o["a"])(c,2),r=l[1];function u(e){var a="function"===typeof e?e(n.current):e;a!==n.current&&t(a,n.current),n.current=a,r({})}return[n.current,u]}var W=function(e){var t,n=e.position,c=e.prefixCls,l=e.extra;if(!l)return null;var r={};return l&&"object"===Object(u["a"])(l)&&!a["isValidElement"](l)?r=l:r.right=l,"right"===n&&(t=r.right),"left"===n&&(t=r.left),t?a["createElement"]("div",{className:"".concat(c,"-extra-content")},t):null};function z(e,t){var n,c=a["useContext"](L),u=c.prefixCls,i=c.tabs,d=e.className,f=e.style,b=e.id,E=e.animated,j=e.activeKey,g=e.rtl,R=e.extra,C=e.editable,T=e.locale,S=e.tabPosition,I=e.tabBarGutter,A=e.children,M=e.onTabClick,D=e.onTabScroll,P=Object(a["useRef"])(),B=Object(a["useRef"])(),z=Object(a["useRef"])(),U=Object(a["useRef"])(),V=H(),q=Object(o["a"])(V,2),Z=q[0],G=q[1],J="top"===S||"bottom"===S,X=K(0,(function(e,t){J&&D&&D({direction:e>t?"left":"right"})})),Q=Object(o["a"])(X,2),Y=Q[0],$=Q[1],ee=K(0,(function(e,t){!J&&D&&D({direction:e>t?"top":"bottom"})})),te=Object(o["a"])(ee,2),ne=te[0],ae=te[1],ce=Object(a["useState"])(0),le=Object(o["a"])(ce,2),re=le[0],oe=le[1],ue=Object(a["useState"])(0),ie=Object(o["a"])(ue,2),se=ie[0],de=ie[1],me=Object(a["useState"])(null),fe=Object(o["a"])(me,2),be=fe[0],Ee=fe[1],pe=Object(a["useState"])(null),ve=Object(o["a"])(pe,2),he=ve[0],ye=ve[1],ke=Object(a["useState"])(0),je=Object(o["a"])(ke,2),ge=je[0],Oe=je[1],Re=Object(a["useState"])(0),we=Object(o["a"])(Re,2),Ce=we[0],xe=we[1],Te=k(new Map),Se=Object(o["a"])(Te,2),Ie=Se[0],Ne=Se[1],Ae=w(i,Ie,re),_e="".concat(u,"-nav-operations-hidden"),Le=0,Me=0;function De(e){return e<Le?Le:e>Me?Me:e}J?g?(Le=0,Me=Math.max(0,re-be)):(Le=Math.min(0,be-re),Me=0):(Le=Math.min(0,he-se),Me=0);var Pe=Object(a["useRef"])(),Be=Object(a["useState"])(),Fe=Object(o["a"])(Be,2),He=Fe[0],Ke=Fe[1];function We(){Ke(Date.now())}function ze(){window.clearTimeout(Pe.current)}function Ue(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=Ae.get(e)||{width:0,height:0,left:0,right:0,top:0};if(J){var n=Y;g?t.right<Y?n=t.right:t.right+t.width>Y+be&&(n=t.right+t.width-be):t.left<-Y?n=-t.left:t.left+t.width>-Y+be&&(n=-(t.left+t.width-be)),ae(0),$(De(n))}else{var a=ne;t.top<-ne?a=-t.top:t.top+t.height>-ne+he&&(a=-(t.top+t.height-he)),$(0),ae(De(a))}}F(P,(function(e,t){function n(e,t){e((function(e){var n=De(e+t);return n}))}if(J){if(be>=re)return!1;n($,e)}else{if(he>=se)return!1;n(ae,t)}return ze(),We(),!0})),Object(a["useEffect"])((function(){return ze(),He&&(Pe.current=window.setTimeout((function(){Ke(0)}),100)),ze}),[He]);var Ve=x(Ae,{width:be,height:he,left:Y,top:ne},{width:re,height:se},{width:ge,height:Ce},Object(s["a"])(Object(s["a"])({},e),{},{tabs:i})),qe=Object(o["a"])(Ve,2),Ze=qe[0],Ge=qe[1],Je={};"top"===S||"bottom"===S?Je[g?"marginRight":"marginLeft"]=I:Je.marginTop=I;var Xe=i.map((function(e,t){var n=e.key;return a["createElement"](O,{id:b,prefixCls:u,key:n,tab:e,style:0===t?void 0:Je,closable:e.closable,editable:C,active:n===j,renderWrapper:A,removeAriaLabel:null===T||void 0===T?void 0:T.removeAriaLabel,ref:Z(n),onClick:function(e){M(n,e)},onRemove:function(){G(n)},onFocus:function(){Ue(n),We(),P.current&&(g||(P.current.scrollLeft=0),P.current.scrollTop=0)}})})),Qe=y((function(){var e,t,n,a,c,l,r=(null===(e=P.current)||void 0===e?void 0:e.offsetWidth)||0,o=(null===(t=P.current)||void 0===t?void 0:t.offsetHeight)||0,u=(null===(n=U.current)||void 0===n?void 0:n.offsetWidth)||0,s=(null===(a=U.current)||void 0===a?void 0:a.offsetHeight)||0;Ee(r),ye(o),Oe(u),xe(s);var d=((null===(c=B.current)||void 0===c?void 0:c.offsetWidth)||0)-u,m=((null===(l=B.current)||void 0===l?void 0:l.offsetHeight)||0)-s;oe(d),de(m),Ne((function(){var e=new Map;return i.forEach((function(t){var n=t.key,a=Z(n).current;a&&e.set(n,{width:a.offsetWidth,height:a.offsetHeight,left:a.offsetLeft,top:a.offsetTop})})),e}))})),Ye=i.slice(0,Ze),$e=i.slice(Ge+1),et=[].concat(Object(p["a"])(Ye),Object(p["a"])($e)),tt=Object(a["useState"])(),nt=Object(o["a"])(tt,2),at=nt[0],ct=nt[1],lt=Ae.get(j),rt=Object(a["useRef"])();function ot(){v["a"].cancel(rt.current)}Object(a["useEffect"])((function(){var e={};return lt&&(J?(g?e.right=lt.right:e.left=lt.left,e.width=lt.width):(e.top=lt.top,e.height=lt.height)),ot(),rt.current=Object(v["a"])((function(){ct(e)})),ot}),[lt,J,g]),Object(a["useEffect"])((function(){Ue()}),[j,lt,Ae,J]),Object(a["useEffect"])((function(){Qe()}),[g,I,j,i.map((function(e){return e.key})).join("_")]);var ut,it,st,dt,mt=!!et.length,ft="".concat(u,"-nav-wrap");return J?g?(it=Y>0,ut=Y+be<re):(ut=Y<0,it=-Y+be<re):(st=ne<0,dt=-ne+he<se),a["createElement"]("div",{ref:t,role:"tablist",className:m()("".concat(u,"-nav"),d),style:f,onKeyDown:function(){We()}},a["createElement"](W,{position:"left",extra:R,prefixCls:u}),a["createElement"](h["a"],{onResize:Qe},a["createElement"]("div",{className:m()(ft,(n={},Object(r["a"])(n,"".concat(ft,"-ping-left"),ut),Object(r["a"])(n,"".concat(ft,"-ping-right"),it),Object(r["a"])(n,"".concat(ft,"-ping-top"),st),Object(r["a"])(n,"".concat(ft,"-ping-bottom"),dt),n)),ref:P},a["createElement"](h["a"],{onResize:Qe},a["createElement"]("div",{ref:B,className:"".concat(u,"-nav-list"),style:{transform:"translate(".concat(Y,"px, ").concat(ne,"px)"),transition:He?"none":void 0}},Xe,a["createElement"](N,{ref:U,prefixCls:u,locale:T,editable:C,style:Object(s["a"])(Object(s["a"])({},0===Xe.length?void 0:Je),{},{visibility:mt?"hidden":null})}),a["createElement"]("div",{className:m()("".concat(u,"-ink-bar"),Object(r["a"])({},"".concat(u,"-ink-bar-animated"),E.inkBar)),style:at}))))),a["createElement"](_,Object(l["a"])({},e,{removeAriaLabel:null===T||void 0===T?void 0:T.removeAriaLabel,ref:z,prefixCls:u,tabs:et,className:!mt&&_e,tabMoving:!!He})),a["createElement"](W,{position:"right",extra:R,prefixCls:u}))}var U=a["forwardRef"](z);function V(e){var t=e.id,n=e.activeKey,c=e.animated,l=e.tabPosition,o=e.rtl,u=e.destroyInactiveTabPane,i=a["useContext"](L),s=i.prefixCls,d=i.tabs,f=c.tabPane,b=d.findIndex((function(e){return e.key===n}));return a["createElement"]("div",{className:m()("".concat(s,"-content-holder"))},a["createElement"]("div",{className:m()("".concat(s,"-content"),"".concat(s,"-content-").concat(l),Object(r["a"])({},"".concat(s,"-content-animated"),f)),style:b&&f?Object(r["a"])({},o?"marginRight":"marginLeft","-".concat(b,"00%")):null},d.map((function(e){return a["cloneElement"](e.node,{key:e.key,prefixCls:s,tabKey:e.key,id:t,animated:f,active:e.key===n,destroyInactiveTabPane:u})}))))}function q(e){var t=e.prefixCls,n=e.forceRender,c=e.className,l=e.style,r=e.id,u=e.active,i=e.animated,d=e.destroyInactiveTabPane,f=e.tabKey,b=e.children,E=a["useState"](n),p=Object(o["a"])(E,2),v=p[0],h=p[1];a["useEffect"]((function(){u?h(!0):d&&h(!1)}),[u,d]);var y={};return u||(i?(y.visibility="hidden",y.height=0,y.overflowY="hidden"):y.display="none"),a["createElement"]("div",{id:r&&"".concat(r,"-panel-").concat(f),role:"tabpanel",tabIndex:u?0:-1,"aria-labelledby":r&&"".concat(r,"-tab-").concat(f),"aria-hidden":!u,style:Object(s["a"])(Object(s["a"])({},y),l),className:m()("".concat(t,"-tabpane"),u&&"".concat(t,"-tabpane-active"),c)},(u||v||n)&&b)}var Z=["id","prefixCls","className","children","direction","activeKey","defaultActiveKey","editable","animated","tabPosition","tabBarGutter","tabBarStyle","tabBarExtraContent","locale","moreIcon","moreTransitionName","destroyInactiveTabPane","renderTabBar","onChange","onTabClick","onTabScroll"],G=0;function J(e){return Object(f["a"])(e).map((function(e){if(a["isValidElement"](e)){var t=void 0!==e.key?String(e.key):void 0;return Object(s["a"])(Object(s["a"])({key:t},e.props),{},{node:e})}return null})).filter((function(e){return e}))}function X(e,t){var n,c,d=e.id,f=e.prefixCls,p=void 0===f?"rc-tabs":f,v=e.className,h=e.children,y=e.direction,k=e.activeKey,j=e.defaultActiveKey,g=e.editable,O=e.animated,R=void 0===O?{inkBar:!0,tabPane:!1}:O,w=e.tabPosition,C=void 0===w?"top":w,x=e.tabBarGutter,T=e.tabBarStyle,S=e.tabBarExtraContent,I=e.locale,N=e.moreIcon,A=e.moreTransitionName,_=e.destroyInactiveTabPane,M=e.renderTabBar,D=e.onChange,P=e.onTabClick,B=e.onTabScroll,F=Object(i["a"])(e,Z),H=J(h),K="rtl"===y;c=!1===R?{inkBar:!1,tabPane:!1}:!0===R?{inkBar:!0,tabPane:!0}:Object(s["a"])({inkBar:!0,tabPane:!1},"object"===Object(u["a"])(R)?R:{});var W=Object(a["useState"])(!1),z=Object(o["a"])(W,2),q=z[0],X=z[1];Object(a["useEffect"])((function(){X(Object(b["a"])())}),[]);var Q=Object(E["a"])((function(){var e;return null===(e=H[0])||void 0===e?void 0:e.key}),{value:k,defaultValue:j}),Y=Object(o["a"])(Q,2),$=Y[0],ee=Y[1],te=Object(a["useState"])((function(){return H.findIndex((function(e){return e.key===$}))})),ne=Object(o["a"])(te,2),ae=ne[0],ce=ne[1];Object(a["useEffect"])((function(){var e,t=H.findIndex((function(e){return e.key===$}));-1===t&&(t=Math.max(0,Math.min(ae,H.length-1)),ee(null===(e=H[t])||void 0===e?void 0:e.key));ce(t)}),[H.map((function(e){return e.key})).join("_"),$,ae]);var le=Object(E["a"])(null,{value:d}),re=Object(o["a"])(le,2),oe=re[0],ue=re[1],ie=C;function se(e,t){null===P||void 0===P||P(e,t);var n=e!==$;ee(e),n&&(null===D||void 0===D||D(e))}q&&!["left","right"].includes(C)&&(ie="top"),Object(a["useEffect"])((function(){d||(ue("rc-tabs-".concat(G)),G+=1)}),[]);var de,me={id:oe,activeKey:$,animated:c,tabPosition:ie,rtl:K,mobile:q},fe=Object(s["a"])(Object(s["a"])({},me),{},{editable:g,locale:I,moreIcon:N,moreTransitionName:A,tabBarGutter:x,onTabClick:se,onTabScroll:B,extra:S,style:T,panes:h});return de=M?M(fe,U):a["createElement"](U,fe),a["createElement"](L.Provider,{value:{tabs:H,prefixCls:p}},a["createElement"]("div",Object(l["a"])({ref:t,id:d,className:m()(p,"".concat(p,"-").concat(ie),(n={},Object(r["a"])(n,"".concat(p,"-mobile"),q),Object(r["a"])(n,"".concat(p,"-editable"),g),Object(r["a"])(n,"".concat(p,"-rtl"),K),n),v)},F),de,a["createElement"](V,Object(l["a"])({destroyInactiveTabPane:_},me,{animated:c}))))}var Q=a["forwardRef"](X);Q.TabPane=q;var Y=Q,$=Y,ee=n("MZF8"),te=n("dEAq"),ne=n("H1Ra");n("RZMt");function ae(e,t){return ue(e)||oe(e,t)||le(e,t)||ce()}function ce(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function le(e,t){if(e){if("string"===typeof e)return re(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?re(e,t):void 0}}function re(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function oe(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,c,l=[],r=!0,o=!1;try{for(n=n.call(e);!(r=(a=n.next()).done);r=!0)if(l.push(a.value),t&&l.length===t)break}catch(u){o=!0,c=u}finally{try{r||null==n["return"]||n["return"]()}finally{if(o)throw c}}return l}}function ue(e){if(Array.isArray(e))return e}function ie(e,t){var n,a=null===(n=e.match(/\.(\w+)$/))||void 0===n?void 0:n[1];return a||(a=t.tsx?"tsx":"jsx"),a}var se=function(e){var t,n,l,r=Object(a["useRef"])(),o=Object(a["useContext"])(te["context"]),u=o.locale,i=Object(te["useLocaleProps"])(u,e),s=Object(te["useDemoUrl"])(i.identifier),d=i.demoUrl||s,m=(null===ee["a"]||void 0===ee["a"]?void 0:ee["a"].location.hash)==="#".concat(i.identifier),f=1===Object.keys(i.sources).length,b=Object(te["useCodeSandbox"])((null===(t=i.hideActions)||void 0===t?void 0:t.includes("CSB"))?null:i),E=Object(te["useRiddle"])((null===(n=i.hideActions)||void 0===n?void 0:n.includes("RIDDLE"))?null:i),p=Object(te["useMotions"])(i.motions||[],r.current),v=ae(p,2),h=v[0],y=v[1],k=Object(te["useCopy"])(),j=ae(k,2),g=j[0],O=j[1],R=Object(a["useState"])((function(){return i.sources._?"_":Object.keys(i.sources)[0]})),w=ae(R,2),C=w[0],x=w[1],T=Object(a["useState"])(ie(C,i.sources[C])),S=ae(T,2),I=S[0],N=S[1],A=Object(a["useState"])(Boolean(i.defaultShowCode)),_=ae(A,2),L=_[0],M=_[1],D=Object(a["useState"])(Math.random()),P=ae(D,2),B=P[0],F=P[1],H=i.sources[C][I]||i.sources[C].content,K=Object(te["useTSPlaygroundUrl"])(u,H),W=Object(a["useRef"])(),z=Object(te["usePrefersColor"])(),U=ae(z,1),V=U[0],Z=i.actionBarRender,G=void 0===Z?function(e){return e}:Z;function J(e){x(e),N(ie(e,i.sources[e]))}return Object(a["useEffect"])((function(){F(Math.random())}),[V]),c.a.createElement("div",{style:i.style,className:[i.className,"__dumi-default-previewer",m?"__dumi-default-previewer-target":""].filter(Boolean).join(" "),id:i.identifier,"data-debug":i.debug||void 0,"data-iframe":i.iframe||void 0},i.iframe&&c.a.createElement("div",{className:"__dumi-default-previewer-browser-nav"}),c.a.createElement("div",{ref:r,className:"__dumi-default-previewer-demo",style:{transform:i.transform?"translate(0, 0)":void 0,padding:i.compact||i.iframe&&!1!==i.compact?"0":void 0,background:i.background}},i.iframe?c.a.createElement("iframe",{title:"dumi-previewer",style:{height:String(i.iframe).replace(/(\d)$/,"$1px")},key:B,src:d,ref:W}):i.children),c.a.createElement("div",{className:"__dumi-default-previewer-desc","data-title":i.title},i.title&&c.a.createElement(te["AnchorLink"],{to:"#".concat(i.identifier)},i.title),i.description&&c.a.createElement("div",{dangerouslySetInnerHTML:{__html:i.description}})),c.a.createElement("div",{className:"__dumi-default-previewer-actions"},G(c.a.createElement(c.a.Fragment,null,b&&c.a.createElement("button",{title:"Open demo on CodeSandbox.io",className:"__dumi-default-icon",role:"codesandbox",onClick:b}),E&&c.a.createElement("button",{title:"Open demo on Riddle",className:"__dumi-default-icon",role:"riddle",onClick:E}),i.motions&&c.a.createElement("button",{title:"Execute motions",className:"__dumi-default-icon",role:"motions",disabled:y,onClick:function(){return h()}}),i.iframe&&c.a.createElement("button",{title:"Reload demo iframe page",className:"__dumi-default-icon",role:"refresh",onClick:function(){return F(Math.random())}}),!(null===(l=i.hideActions)||void 0===l?void 0:l.includes("EXTERNAL"))&&c.a.createElement(te["Link"],{target:"_blank",to:d},c.a.createElement("button",{title:"Open demo in new tab",className:"__dumi-default-icon",role:"open-demo",type:"button"})),c.a.createElement("span",null),c.a.createElement("button",{title:"Copy source code",className:"__dumi-default-icon",role:"copy","data-status":O,onClick:function(){return g(H)}}),"tsx"===I&&L&&c.a.createElement(te["Link"],{target:"_blank",to:K},c.a.createElement("button",{title:"Get JSX via TypeScript Playground",className:"__dumi-default-icon",role:"change-tsx",type:"button"})),c.a.createElement("button",{title:"Toggle source code panel",className:"__dumi-default-icon".concat(L?" __dumi-default-btn-expand":""),role:"source",type:"button",onClick:function(){return M(!L)}})))),L&&c.a.createElement("div",{className:"__dumi-default-previewer-source-wrapper"},!f&&c.a.createElement($,{className:"__dumi-default-previewer-source-tab",prefixCls:"__dumi-default-tabs",moreIcon:"\xb7\xb7\xb7",defaultActiveKey:C,onChange:J},Object.keys(i.sources).map((function(e){return c.a.createElement(q,{tab:"_"===e?"index.".concat(ie(e,i.sources[e])):e,key:e})}))),c.a.createElement("div",{className:"__dumi-default-previewer-source"},c.a.createElement(ne["a"],{code:H,lang:I,showCopy:!1}))))};t["default"]=se},"dMo/":function(e,t,n){"use strict";var a=n("cDcd"),c=n.n(a),l=n("hKI/"),r=n.n(l);n("WpQk");function o(e,t){return m(e)||d(e,t)||i(e,t)||u()}function u(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function i(e,t){if(e){if("string"===typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function d(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,c,l=[],r=!0,o=!1;try{for(n=n.call(e);!(r=(a=n.next()).done);r=!0)if(l.push(a.value),t&&l.length===t)break}catch(u){o=!0,c=u}finally{try{r||null==n["return"]||n["return"]()}finally{if(o)throw c}}return l}}function m(e){if(Array.isArray(e))return e}var f=function(e){var t=e.children,n=Object(a["useRef"])(),l=Object(a["useState"])(!1),u=o(l,2),i=u[0],s=u[1],d=Object(a["useState"])(!1),m=o(d,2),f=m[0],b=m[1];return Object(a["useEffect"])((function(){var e=n.current,t=r()((function(){s(e.scrollLeft>0),b(e.scrollLeft<e.scrollWidth-e.offsetWidth)}),100);return t(),e.addEventListener("scroll",t),window.addEventListener("resize",t),function(){e.removeEventListener("scroll",t),window.removeEventListener("resize",t)}}),[]),c.a.createElement("div",{className:"__dumi-default-table"},c.a.createElement("div",{className:"__dumi-default-table-content",ref:n,"data-left-folded":i||void 0,"data-right-folded":f||void 0},c.a.createElement("table",null,t)))};t["a"]=f},zzaR:function(e,t,n){"use strict";n.r(t);var a=n("cDcd"),c=n.n(a),l=n("dEAq"),r=n("Zxc8"),o=n("H1Ra"),u=n("dMo/"),i=c.a.memo((e=>{var t=e.demos,n=t["effect-clousre-timer-demo"].component;return c.a.createElement(c.a.Fragment,null,c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"markdown"},c.a.createElement("h2",{id:"\u524d\u8a00"},c.a.createElement(l["AnchorLink"],{to:"#\u524d\u8a00","aria-hidden":"true",tabIndex:-1},c.a.createElement("span",{className:"icon icon-link"})),"\u524d\u8a00"),c.a.createElement("p",null,"\u672c\u6587\u5047\u8bbe\u4f60\u5177\u6709\u4ee5\u4e0b\u77e5\u8bc6\u6216\u8005\u4f7f\u7528\u7ecf\u9a8c\uff1a"),c.a.createElement("ul",null,c.a.createElement("li",null,"React >= 16.9"),c.a.createElement("li",null,"React Class Component"),c.a.createElement("li",null,"React Functional Component"),c.a.createElement("li",null,"React Hooks, \u4e3b\u8981\u662f ",c.a.createElement("code",null,"useState"),"/",c.a.createElement("code",null,"useEffect"),"/",c.a.createElement("code",null,"useRef"))),c.a.createElement("p",null,"\u5982\u9700\u65b0\u7684\u5de5\u4f5c\u673a\u4f1a, \u8bf7\u8054\u7cfb\u6211 ",c.a.createElement(l["Link"],{to:"mailto:richardo2016@gmail.com"},"richardo2016@gmail.com")),c.a.createElement("h2",{id:"useref-vs-usestate"},c.a.createElement(l["AnchorLink"],{to:"#useref-vs-usestate","aria-hidden":"true",tabIndex:-1},c.a.createElement("span",{className:"icon icon-link"})),c.a.createElement("code",null,".useRef")," vs ",c.a.createElement("code",null,".useState")),c.a.createElement("p",null,"\u5728\u8fd9\u7bc7\u6587\u7ae0 \u4e2d, \u6211\u4eec\u63d0\u5230\u4e86 .useRef \u662f React Hooks \u7684\u4f5c\u5f0a\u5668(\u5c31\u662f\u300a\u9b42\u6597\u7f57\u300b\u91cc\u6309\u201c\u2191\u2191\u2193\u2193\u2190\u2192\u2190\u2192BA\u201d\u52a0 30 \u6761\u547d\u8fd9\u7c7b\u4f5c\u5f0a\u7801): \u5b83\u50cf Hooks API \u4e00\u6837\u5728 React Functional Component \u7684\u591a\u8f6e\u6e32\u67d3\u4e2d\u53ef\u4ee5\u4fdd\u5b58\u4e00\u4e2a\u503c, \u5e76\u4e25\u683c\u6309\u7167\u4f60 set/get \u7684\u987a\u5e8f\u6765\u5b58\u53d6\u503c. \u8fd9\u548c .useState \u8fd4\u56de\u7684 ",c.a.createElement("code",null,"[state, updater]")," \u4e0d\u592a\u4e00\u6837, \u4e24\u8005\u5bf9\u6bd4"),c.a.createElement(u["a"],null,c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",null),c.a.createElement("th",null,c.a.createElement("code",null,"const ref = useRef(initVal)")),c.a.createElement("th",null,c.a.createElement("code",null,"const [ state, updater ] = useState(initVal)")))),c.a.createElement("tbody",null,c.a.createElement("tr",null,c.a.createElement("td",null,"get"),c.a.createElement("td",null,c.a.createElement("code",null,"ref.current")),c.a.createElement("td",null,c.a.createElement("code",null,"state"))),c.a.createElement("tr",null,c.a.createElement("td",null,"set"),c.a.createElement("td",null,c.a.createElement("code",null,"ref.current = newVal")),c.a.createElement("td",null,c.a.createElement("code",null,"updater(newVal)"))),c.a.createElement("tr",null,c.a.createElement("td",null,"set \u662f\u5426\u4f1a\u5f15\u8d77 React Fiber \u8c03\u5ea6"),c.a.createElement("td",null,"\u274c"),c.a.createElement("td",null,"\u2705")),c.a.createElement("tr",null,c.a.createElement("td",null,'set/get \u662f\u5426\u7b26\u5408"set \u5373\u6539\u53d8, get \u603b\u80fd\u62ff\u5230\u6700\u65b0\u503c" \u7684\u76f4\u89c9'),c.a.createElement("td",null,"\u2705"),c.a.createElement("td",null,"\u274c")))),c.a.createElement("p",null,"\u5f53\u4f60\u5e0c\u671b\u5728",c.a.createElement("strong",null,"\u51fd\u6570\u5f0f\u7ec4\u4ef6"),"\u4e2d",c.a.createElement("strong",null,"\u6309\u4f60\u76f4\u89c9\u83b7\u53d6\u5230\u72b6\u6001\u6700\u65b0\u503c"),"\u65f6, \u5c31\u7528 ",c.a.createElement("code",null,".useRef"),"."),c.a.createElement("h2",{id:"\u4f9d\u8d56\u5217\u8868deps"},c.a.createElement(l["AnchorLink"],{to:"#\u4f9d\u8d56\u5217\u8868deps","aria-hidden":"true",tabIndex:-1},c.a.createElement("span",{className:"icon icon-link"})),"\u4f9d\u8d56\u5217\u8868(Deps)"),c.a.createElement("p",null,"\u5bf9\u4e8e Hooks \u800c\u8a00, \u5176\u4f9d\u8d56\u662f\u5f00\u53d1\u8005\u5fc5\u987b\u8003\u8651\u7684\u4e00\u4e2a\u7279\u70b9, \u5982\u679c\u5ffd\u7565\u5b83\u6216\u8005\u9519\u8bef\u5730\u7406\u89e3\u5b83, \u53ef\u80fd\u4f1a\u7ed9\u7ec4\u4ef6\u3001\u5e94\u7528\u5e26\u6765\u6bc1\u706d\u6027\u7684\u526f\u4f5c\u7528 \u2014\u2014 \u6bd4\u5982, \u65e0\u9650\u5faa\u73af\u7684 effect."),c.a.createElement("p",null,"\u4e0b\u9762\u8fd9\u4e2a\u7ec4\u4ef6\u4e00\u65e6\u88ab\u5f15\u7528\u5230\u5e94\u7528\u4e2d, \u5c31\u4f1a\u4e0d\u505c\u5730\u53d1\u9001 getJSON \u8bf7\u6c42, \u5e76\u66f4\u65b0\u7ec4\u4ef6\u5f15\u8d77\u89c6\u56fe\u66f4\u65b0, \u8ba9\u5e94\u7528\u76f4\u63a5\u5d29\u6e83."),c.a.createElement(o["a"],{code:"function InfiniteRequestHookComponent () {\n  const [state, updater] = React.useState(null);\n\n  React.useEffect(() => {\n      getJSON(...)\n        .finally(() => {\n          updater(...);\n        })\n  })\n}",lang:"tsx"}),c.a.createElement("p",null,"\u56e0\u6b64, \u5f00\u53d1\u8005\u5bf9\u8fd9\u4e2a**\u4f9d\u8d56\u5217\u8868(deps)**\u7684\u7406\u89e3\u662f\u5982\u6b64\u91cd\u8981, \u5176\u91cd\u8981\u7a0b\u5ea6\u4e0d\u4e9a\u4e8e\u4f60\u5fc5\u987b\u7406\u89e3 React Class Component \u91cc\u7684\u8fd9\u4e9b\u89c4\u5219:"),c.a.createElement("ul",null,c.a.createElement("li",null,"state \u53ea\u80fd\u5728 constructor \u4e2d\u521d\u59cb\u5316"),c.a.createElement("li",null,"props \u662f\u4e0d\u53ef\u53d8\u5bf9\u8c61"),c.a.createElement("li",null,"componentDidMount \u5bf9\u5728\u4e00\u4e2a\u7ec4\u4ef6\u7684 Lifecycle \u4e2d\u53ea\u4f1a\u88ab\u8c03\u7528\u4e00\u6b21"),c.a.createElement("li",null,"...")),c.a.createElement("p",null,"\u8981\u60f3\u4f7f\u7528 React Hook \u5199\u51fa\u7a33\u5b9a\u53ef\u9760\u7684\u7ec4\u4ef6, \u5fc5\u987b\u597d\u597d\u7406\u89e3 Hooks \u4f9d\u8d56\u5217\u8868(\u4e0b\u6587\u7edf\u79f0\u4e3a deps), \u7136\u540e\u5904\u7406\u8fd9\u4e9b\u573a\u666f."),c.a.createElement("h3",{id:"deps-\u4ec0\u4e48\u65f6\u5019\u5e94\u8be5\u4e3a--"},c.a.createElement(l["AnchorLink"],{to:"#deps-\u4ec0\u4e48\u65f6\u5019\u5e94\u8be5\u4e3a--","aria-hidden":"true",tabIndex:-1},c.a.createElement("span",{className:"icon icon-link"})),"deps \u4ec0\u4e48\u65f6\u5019\u5e94\u8be5\u4e3a ",c.a.createElement("code",null,"[]")," ?"),c.a.createElement("p",null,"\u4e5f\u8bb8\u4f60\u5df2\u7ecf\u5728\u522b\u5904\u770b\u5230\u4e86\u8fd9\u6837\u7684\u4ecb\u7ecd: \u5f53\u628a\u4e00\u4e2a React Class Component \u6539\u9020\u4e3a React Function Component \u65f6, \u53ef\u4ee5\u5c06 ",c.a.createElement("code",null,"componentDidMount")," \u4e2d\u7684\u6570\u636e\u8bf7\u6c42\u903b\u8f91\u653e\u5728 React.",c.a.createElement("code",null,"useEffect(callback, [])")," \u7684 callback \u4e2d, \u50cf\u8fd9\u6837:"),c.a.createElement(o["a"],{code:"// class component\nclass FooClassComponent extends React.Component {\n  componentDidMount() {\n    asyncRequest().then((result) => {\n      // deal with your result\n    });\n  }\n}\n\n// function component\nfunction FooFunctionalComponent() {\n  React.useEffect(() => {\n    asyncRequest().then((result) => {\n      // deal with your result\n    });\n  }, []);\n}",lang:"jsx"}),c.a.createElement("p",null,"\u82e5 ",c.a.createElement("code",null,"React.useEffect")," \u7684 deps \u5217\u8868\u4e3a\u7a7a\u6570\u7ec4, \u5219\u610f\u5473\u7740\u5176\u4e2d\u7684\u4e1a\u52a1\u903b\u8f91(Effect)\u5728 FooFunctionalComponent \u53ea\u4f1a\u6267\u884c\u4e00\u6b21(\u5728\u7ec4\u4ef6\u7b2c\u4e00\u6b21 render \u7684\u65f6\u5019), \u5176\u540e, \u4e0d\u7ba1 FooFunctionalComponent re-render \u591a\u5c11\u6b21, \u5176\u4e2d\u7684\u4e1a\u52a1\u903b\u8f91(Effect)\u90fd\u4e0d\u4f1a\u518d\u88ab\u6267\u884c \u2014\u2014 \u56e0\u4e3a deps \u4e3a\u7a7a, \u5219 Effect \u4e0d\u56e0\u4efb\u4f55\u5916\u90e8\u56e0\u7d20\u800c\u91cd\u6267\u884c."),c.a.createElement("p",null,"\u8fd9\u673a\u5236\u5c31\u5f88\u7c7b\u4f3c\u4e8e ",c.a.createElement("code",null,"componentDidMount")," \u5728\u6574\u4e2a FooClassComponent \u751f\u547d\u5468\u671f\u4e2d\u7684\u8868\u73b0: \u53ea\u5728\u7ec4\u4ef6\u5b8c\u6210\u6e32\u67d3\u7684\u7b2c\u4e00\u6b21\u6267\u884c, \u5176\u540e\u65e0\u8bba FooClassComponent \u8fdb\u884c\u591a\u5c11\u6b21 re-render, ",c.a.createElement("code",null,"componentDidMount")," \u90fd\u4e0d\u518d\u6267\u884c."),c.a.createElement("p",null,c.a.createElement("strong",null,"\u6ce8\u610f")," \u8fd9\u91cc\u6211\u4eec\u7279\u610f\u5f3a\u8c03, ",c.a.createElement("code",null,"componentDidMount")," \u4e0d\u7b49\u4ef7\u4e8e ",c.a.createElement("code",null,"React.useEffect(callback, [])"),", \u56e0\u4e3a\u4e8c\u8005\u6240\u5904\u7684\u8c03\u5ea6\u673a\u5236\u5e76\u4e0d\u76f8\u540c, \u53ea\u662f\u4e8c\u8005\u80fd\u8d77\u5230\u7c7b\u4f3c\u7684\u4f5c\u7528. \u8fd9\u4e00\u70b9\u4e00\u5b9a\u8981\u8bb0\u6e05: Functional Component Hooks \u7684\u6267\u884c\u673a\u5236, \u548c Class Component Lifecycle \u7684\u6267\u884c\u673a\u5236, \u662f\u4e24\u56de\u4e8b."),c.a.createElement("h3",{id:"\u5982\u679c-deps-\u4e0d\u4e3a\u7a7a\u4f1a\u5982\u4f55"},c.a.createElement(l["AnchorLink"],{to:"#\u5982\u679c-deps-\u4e0d\u4e3a\u7a7a\u4f1a\u5982\u4f55","aria-hidden":"true",tabIndex:-1},c.a.createElement("span",{className:"icon icon-link"})),"\u5982\u679c deps \u4e0d\u4e3a\u7a7a\u4f1a\u5982\u4f55?"),c.a.createElement("p",null,"\u6709\u8fd9\u6837\u7684\u573a\u666f: \u5f53\u7528\u6237\u5728 ",c.a.createElement("code",null,"<input />")," \u4e2d\u8f93\u5165\u7684\u65f6\u5019, \u6211\u4eec\u5e0c\u671b\u80fd\u968f\u7740\u7528\u6237\u7684\u8f93\u5165\u5b9e\u65f6\u505a\u4e00\u4e9b\u5f02\u6b65\u7684\u52a8\u4f5c, \u6bd4\u5982:"),c.a.createElement("ul",null,c.a.createElement("li",null,"\u5b9e\u65f6\u6821\u9a8c"),c.a.createElement("li",null,"\u8fdc\u7a0b\u641c\u7d22"),c.a.createElement("li",null,"...")),c.a.createElement("p",null,"\u4ee5\u8fdc\u7a0b\u641c\u7d22\u4e3a\u4f8b, \u8fd9\u7c7b\u52a8\u4f5c\u7528 Hooks \u53ef\u4ee5\u63cf\u8ff0\u5982\u4e0b:"),c.a.createElement(o["a"],{code:"function SearchComponent() {\n  const [keyword, setKeyword] = React.useState('');\n\n  // hook1\n  React.useEffect(() => {\n    // callback: do some search action against keyword\n    searchByKeyword(keyword).then((result) => {\n      // process search result\n    });\n  }, [keyword]);\n\n  return (\n    <input\n      value={keyword}\n      onChange={(evt) => {\n        setKeyword(evt.target.value || '');\n      }}\n    />\n  );\n}",lang:"jsx"}),c.a.createElement("p",null,"\u8fd9\u91cc\u6709\u4e00\u4e2a hook1(",c.a.createElement("code",null,".useEffect"),"), \u5176 deps \u4e3a ",c.a.createElement("code",null,"[ keyword ]")," \u2014\u2014 \u610f\u5473\u7740 keyword \u53d1\u751f\u53d8\u5316\u7684\u65f6\u5019, ",c.a.createElement("code",null,".useEffect(callback, deps)")," \u7684 callback \u4f1a\u518d\u6267\u884c\u4e00\u6b21; \u5f53\u7528\u6237\u8f93\u5165\u65f6, \u89e6\u53d1 ",c.a.createElement("code",null,"input[onChange]"),", \u5176\u4e2d ",c.a.createElement("code",null,"setKeyword")," \u4e0d\u4ec5\u4f1a\u5f15\u8d77 ",c.a.createElement("code",null,"keyword")," \u66f4\u65b0, \u8fd8\u4f1a\u5f15\u8d77\u7ec4\u4ef6\u7684\u91cd\u65b0\u6e32\u67d3(\u5373, \u91cd\u65b0\u6267\u884c\u4e00\u6b21 Function of Functional Component)."),c.a.createElement("h3",{id:"\u4f7f\u7528\u4f5c\u5f0a\u5668-useref"},c.a.createElement(l["AnchorLink"],{to:"#\u4f7f\u7528\u4f5c\u5f0a\u5668-useref","aria-hidden":"true",tabIndex:-1},c.a.createElement("span",{className:"icon icon-link"})),"\u4f7f\u7528\u4f5c\u5f0a\u5668 ",c.a.createElement("code",null,".useRef")),c.a.createElement("p",null,"\u5982\u4e0a\u6587\u6240\u8bf4, .useRef \u662f\u63d0\u4f9b\u4e86\u4e00\u4e2a\u4fdd\u5b58\u503c\u7684\u5bb9\u5668, \u5e76",c.a.createElement("strong",null,"\u5141\u8bb8\u4f60\u80fd\u4e25\u683c\u6309\u987a\u5e8f\u8bfb\u53d6\u5b83"),"."),c.a.createElement("p",null,"\u6bd4\u5982"),c.a.createElement(o["a"],{code:"const sthRef = useRef(null);\nsthRef.current = 1;\nsetTimout(() => {\n  sthRef.current = 3;\n}, 3000);\nsetTimeout(() => {\n  sthRef.current = 9;\n}, 9000);",lang:"jsx"}),c.a.createElement("p",null,c.a.createElement("code",null,"sthRef.current")," \u7684\u521d\u59cb\u503c\u4e3a ",c.a.createElement("code",null,"null"),", \u800c\u540e\u7acb\u523b\u88ab\u66f4\u65b0\u4e3a 1, 3s \u540e\u53d8\u6210 3, 9s \u540e\u53d8\u6210 9."),c.a.createElement("p",null,"\u548c ",c.a.createElement("code",null,".useState")," \u4e0d\u540c, \u66f4\u65b0 ",c.a.createElement("code",null,"sthRef.current")," \u4e0d\u4f1a\u5f15\u8d77 Functional Comopnent \u7684 re-render."),c.a.createElement("h3",{id:"\u4e00\u6b65\u6b65\u5b9e\u73b0\u4e00\u4e2a-usetimeout"},c.a.createElement(l["AnchorLink"],{to:"#\u4e00\u6b65\u6b65\u5b9e\u73b0\u4e00\u4e2a-usetimeout","aria-hidden":"true",tabIndex:-1},c.a.createElement("span",{className:"icon icon-link"})),"\u4e00\u6b65\u6b65\u5b9e\u73b0\u4e00\u4e2a useTimeout"),c.a.createElement("p",null,"\u5728",c.a.createElement(l["Link"],{to:"https://zhuanlan.zhihu.com/p/151821200"},"\u8fd9\u7bc7\u6587\u7ae0"),"\u7ed3\u5c3e, \u7b14\u8005\u7559\u4e86\u4e00\u4e2a\u95ee\u9898, \u5982\u4f55\u63d0\u4f9b\u4e00\u4e2a\u5408\u9002\u7684 ",c.a.createElement("code",null,"useTimeout"),", \u514b\u670d\u95ed\u5305\u95ee\u9898, \u4f7f\u5f97 3s \u540e, \u5728 ",c.a.createElement("code",null,"useTimeout")," \u4e2d ",c.a.createElement("code",null,"count")," \u4e3a\u6700\u65b0\u7684\u503c 5(\u56e0\u4e3a\u5b83\u5728 ",c.a.createElement("code",null,"useEffect")," \u4e2d\u88ab\u66f4\u65b0\u4e86)."),c.a.createElement(o["a"],{code:"const TimeoutExample = () => {\n  const [count, setCount] = React.useState(0);\n  const [countInTimeout, setCountInTimeout] = React.useState(0);\n\n  React.useEffect(() => {\n    setTimeout(() => {\n      // count at next line equals to `0` :( due to closure issue.\n      // can we provide one useful `useTimeout` update whole callback of `setTimeout`?\n      setCountInTimeout(count);\n    }, 3000);\n    setCount(5);\n  }, []);\n\n  return (\n    <div>\n      Count: {count}\n      <br />\n      setTimeout Count: {countInTimeout}\n    </div>\n  );\n};",lang:"jsx"}),c.a.createElement("p",null,"\u5728 ",c.a.createElement(l["Link"],{to:"https://zhuanlan.zhihu.com/p/151821200"},"\u8fd9\u7bc7\u6587\u7ae0")," \u6587\u7ae0\u4e2d, \u672a\u63d0\u53ca ",c.a.createElement("code",null,"useTimeout")," \u7684\u65f6\u5019, \u6211\u4eec\u4f7f\u7528 ",c.a.createElement("code",null,"countRef")," \u6765\u4fdd\u5b58\u4e86 ",c.a.createElement("code",null,"count")," \u7684\u503c\u89e3\u51b3\u4e86 ",c.a.createElement(l["Link"],{to:"https://link.zhihu.com/?target=https%3A//www.google.com/search%3Fq%3DHooks%2B%25E7%259A%2584%25E9%2597%25AD%25E5%258C%2585%25E9%2599%25B7%25E9%2598%25B1%25E9%2597%25AE%25E9%25A2%2598%26oq%3DHooks%2B%25E7%259A%2584%25E9%2597%25AD%25E5%258C%2585%25E9%2599%25B7%25E9%2598%25B1%25E9%2597%25AE%25E9%25A2%2598%26aqs%3Dchrome..69i57.700j0j1%26sourceid%3Dchrome%26ie%3DUTF-8"},"Hooks \u7684\u95ed\u5305\u9677\u9631\u95ee\u9898"),", \u4f46\u8fd9\u6837\u592a\u4e0d\u901a\u7528\u4e86, \u4e0b\u6b21\u9047\u5230\u7c7b\u4f3c\u7684\u503c\u53c8\u8981\u65b0\u5efa\u4e00\u4e2a xxxRef \u6765\u4fdd\u5b58\u4e48? \u65e2\u7136\u5728 Hooks \u548c ",c.a.createElement("code",null,"setTimeout(callback, 3000)")," \u7ed3\u5408\u4f7f\u7528\u7684\u65f6\u5019, ",c.a.createElement("code",null,"callback")," \u7684\u95ed\u5305\u5bfc\u81f4\u6211\u4eec\u65e0\u6cd5\u53d6 count \u6700\u65b0\u503c\u7684\u95ee\u9898, \u90a3\u6211\u4eec\u5c1d\u8bd5\u66f4\u65b0\u95ed\u5305\u884c\u4e0d\u884c? \u57fa\u4e8e\u8fd9\u79cd\u60f3\u6cd5, \u6211\u4eec\u63d0\u51fa\u4e86 ",c.a.createElement("code",null,"useTimeout"),", \u5e0c\u671b\u53ef\u4ee5\u76f4\u63a5\u66f4\u65b0\u6574\u4e2a ",c.a.createElement("code",null,"setTimeout(callback, 3000)")," \u7684 ",c.a.createElement("code",null,"callback"),", \u5982\u679c\u771f\u7684\u53ef\u4ee5\u5b9e\u73b0, \u90a3\u4e48\u6700\u7ec8\u7684\u5199\u6cd5\u7c7b\u4f3c\u4e0b\u9762:"),c.a.createElement(o["a"],{code:"const TimeoutExample = () => {\n  const [count, setCount] = React.useState(0);\n  const [countInTimeout, setCountInTimeout] = React.useState(0);\n\n  useTimeout(\n    () => {\n      setCountInTimeout(count);\n    },\n    3000,\n    [count],\n  );\n\n  useEffect(() => {\n    setCount(5);\n  }, []);\n\n  return (\n    <div>\n      Count: {count}\n      <br />\n      setTimeout Count: {countInTimeout}\n    </div>\n  );\n};",lang:"jsx"}),c.a.createElement("p",null,"\u5148\u4e0d\u8003\u8651 deps, \u6211\u4eec\u53ea\u8003\u8651\u628a\u5148\u8981\u628a ",c.a.createElement("code",null,"setTimeout")," \u7684\u4e24\u4e2a\u53c2\u6570 ",c.a.createElement("code",null,"cb")," \u548c ",c.a.createElement("code",null,"timeout")," \u5b58\u4e0b\u6765, \u5e76\u4e14\u6211\u4eec\u5e0c\u671b\u5728\u5408\u9002\u7684\u65f6\u5019\u8c03\u7528 ",c.a.createElement("code",null,"setTimeout")," \u6765\u542f\u52a8 timer, \u542f\u52a8 timer \u662f\u4e00\u4e2a\u526f\u4f5c\u7528, \u6211\u4eec\u653e\u5728 ",c.a.createElement("code",null,".useEffect()")," \u91cc:"),c.a.createElement(o["a"],{code:"function useTimeout(cb, timeout) {\n  const [callback, setCallback] = React.useState(cb);\n\n  React.useEffect(() => {\n    setTimeout(callback, timeout);\n  }, []);\n}",lang:"jsx"}),c.a.createElement("p",null,"\u4e0d\u8fc7, \u5982\u679c\u4f7f\u7528 ",c.a.createElement("code",null,".useState")," \u6765\u5b58 ",c.a.createElement("code",null,"cb")," \u7684\u8bdd, \u6bcf\u6b21 ",c.a.createElement("code",null,"setCallback")," \u65f6, \u5f15\u7528 ",c.a.createElement("code",null,".useTimeout()"),' \u7ec4\u4ef6\u4e5f\u4f1a\u88ab\u66f4\u65b0 \u2014\u2014 \u6839\u636e\u6211\u4eec\u7684\u76ee\u7684"\u5728 count \u53d8\u5316\u7684\u65f6\u5019\u66f4\u65b0\u6574\u4e2a\u95ed\u5305", \u663e\u7136\u6211\u4eec\u662f\u8981\u66f4\u65b0 ',c.a.createElement("code",null,"callback")," \u7684, \u4f46\u7531\u6b64\u5f15\u8d77\u7684\u89c6\u56fe\u66f4\u65b0\u4f3c\u4e4e\u5c31\u4e0d\u662f\u5f88\u6709\u5fc5\u8981\u4e86, \u6211\u4eec\u7528\u4e00\u4e0b\u4f5c\u5f0a\u5668, \u6539\u7528 ",c.a.createElement("code",null,".useRef")," \u6765\u4fdd\u5b58 ",c.a.createElement("code",null,"cb"),":"),c.a.createElement(o["a"],{code:"function useTimeout(cb, timeout) {\n  const callbackRef = React.useRef(cb);\n\n  React.useEffect(() => {\n    setTimeout(callback, timeout);\n  }, []);\n}",lang:"jsx"}),c.a.createElement("p",null,'\u73b0\u5728\u6211\u4eec\u8fd8\u6ca1\u6709\u4f53\u73b0"\u66f4\u65b0 callback"\u8fd9\u4ef6\u4e8b, \u56de\u987e\u4e0b\u6211\u4eec\u7684\u76ee\u7684: \u5f53 ',c.a.createElement("code",null,"count")," \u53d8\u5316\u7684\u65f6\u5019, \u6211\u4eec\u4fdd\u5b58\u4e0b\u6765\u7684 ",c.a.createElement("code",null,"callback")," \u4e5f\u8981\u80fd\u53d8. \u6240\u4ee5\u6211\u4eec\u628a ",c.a.createElement("code",null,"count")," \u8fdb\u6765, \u653e\u5728 ",c.a.createElement("code",null,".useEffect")," \u7684 deps \u4e2d, \u5e76\u4e14\u5728 ",c.a.createElement("code",null,".useEffect")," \u4e2d\u66f4\u65b0 ",c.a.createElement("code",null,"callbackRef.current"),":"),c.a.createElement(o["a"],{code:"function useTimeout(cb, timeout, count) {\n  const callbackRef = React.useRef(cb);\n\n  React.useEffect(() => {\n    // update it if count updated\n    callbackRef.current = cb;\n\n    setTimeout(callback, timeout);\n    // count as item of deps\n  }, [count]);\n}",lang:"jsx"}),c.a.createElement("p",null,"\u4e0d\u8fc7, \u76f4\u63a5\u4f20 ",c.a.createElement("code",null,"count")," \u53ea\u9002\u5e94\u4e8e\u8fd9\u4e2a\u573a\u666f, \u6362\u4e86\u4e2a\u573a\u666f\u522b\u4eba\u53ef\u80fd\u5e0c\u671b\u4f20\u522b\u7684, \u4e0d\u59a8\u628a\u7b2c 3 \u4e2a\u53c2\u6570\u76f4\u63a5\u8bbe\u8ba1\u6210 deps, \u7528\u6237\u7231\u4f20\u4ec0\u4e48\u4f20\u4ec0\u4e48:"),c.a.createElement(o["a"],{code:"// user should put `count` in deps\nfunction useTimeout(cb, timeout, deps = []) {\n  const callbackRef = React.useRef(cb);\n\n  React.useEffect(() => {\n    // update it if count updated\n    callbackRef.current = cb;\n\n    setTimeout(callback, timeout);\n  }, [...deps]);\n}\n\n// user should put `count` in deps\nuseTimeout(cb, 3000, [count]);",lang:"jsx"}),c.a.createElement("p",null,"\u8fd9\u91cc\u8fd8\u6709\u4e2a\u95ee\u9898, \u6bcf\u6b21 deps \u4e2d\u6709\u66f4\u65b0\u65f6, ",c.a.createElement("code",null,".useEffect(effect, deps)")," \u7684 effect \u4f1a\u518d\u6267\u884c\u4e00\u6b21, \u4f46\u8fd9\u4e2a effect \u4e2d\u6709\u4e00\u4e2a ",c.a.createElement("code",null,"setTimeout"),". \u6211\u4eec\u90fd\u77e5\u9053, ",c.a.createElement("code",null,"const timerId = setTimeout(...)")," \u542f\u52a8\u7684 timer \u76f4\u5230\u88ab ",c.a.createElement("code",null,"clearTimeout(timerId)")," \u4e3b\u52a8\u53d6\u6d88\u6216\u8005\u6267\u884c\u5b8c\u4e86\u624d\u4f1a\u4ece\u4e8b\u4ef6\u961f\u5217\u91cc\u9762\u79fb\u51fa, \u5f53 count \u53d1\u751f\u53d8\u5316\u5bfc\u81f4 ",c.a.createElement("code",null,".useEffect(effect, deps)")," \u7684 effect \u518d\u6267\u884c\u7684\u65f6\u5019, \u6211\u4eec\u5c1a\u672a\u53d6\u6d88\u4e0a\u4e00\u4e2a ",c.a.createElement("code",null,"setTimeout")," \u4ea7\u751f\u7684 timer, \u5c31\u53c8\u4ea7\u751f\u4e86\u4e00\u4e2a\u65b0\u7684 ",c.a.createElement("code",null,"timer = setTimeout"),"."),c.a.createElement("p",null,"\u8fd9\u663e\u7136\u4e0d\u662f\u6211\u4eec\u5e0c\u671b\u53d1\u751f\u7684: \u5728\u8fd9\u91cc\u573a\u666f\u4e2d, \u5982\u679c\u6211\u4eec\u90fd\u8981\u66f4\u65b0 ",c.a.createElement("code",null,"callbackRef.current")," \u4e86, \u90a3\u4e4b\u524d\u672a\u6267\u884c\u7684 timer \u5c31\u5e94\u5f53\u88ab\u53d6\u6d88(\u5f53\u7136\u5df2\u7ecf\u6267\u884c\u5b8c\u7684\u5c31\u7b97\u4e86), \u6211\u4eec\u6765\u624b\u52a8\u505a\u4e00\u4e0b\u8fd9\u4ef6\u4e8b:"),c.a.createElement(o["a"],{code:"function useTimeout(cb, timeout, deps = []) {\n  const callbackRef = React.useRef(cb);\n  const timerRef = React.useRef(null);\n\n  React.useEffect(() => {\n    callbackRef.current = cb;\n\n    if (timerRef.current) {\n      clearTimeout(timerRef.current);\n    }\n\n    timerRef.current = setTimeout(callback, timeout);\n  }, deps);\n}",lang:"jsx"}),c.a.createElement("p",null,"\u5982\u4e0a, \u6211\u4eec\u53c8\u7528\u4e86\u4e00\u6b21\u4f5c\u5f0a\u5668, \u8fd9\u91cc\u4e3a\u4ec0\u4e48\u6211\u4eec\u4e0d\u4f7f\u7528\u4e00\u4e2a ",c.a.createElement("code",null,"let timer = null")," \u6765\u4fdd\u5b58\u4e4b\u524d\u6267\u884c\u7684 timer \u5462? \u76f8\u4fe1\u8bfb\u8005\u60f3\u4e00\u4e0b\u5c31\u80fd\u660e\u767d."),c.a.createElement("p",null,"\u4e0d\u8fc7, \u6211\u4eec duck \u4e0d\u5fc5\u81ea\u5df1\u4fdd\u5b58\u4e4b\u524d\u7684 timer. ",c.a.createElement("code",null,"React.useEffect(effect, deps)")," \u5141\u8bb8 effect \u4e2d\u8fd4\u56de\u4e00\u4e2a dispose \u51fd\u6570, \u5982\u679c\u5f00\u53d1\u8005\u786e\u5b9e\u8fd4\u56de\u4e86\u8fd9\u4e2a dispose \u51fd\u6570, \u5219\u5f53 Functional Componnet \u4e0b\u4e00\u6b21\u8fd0\u884c(re-render)\u5230\u8fd9\u4e2a ",c.a.createElement("code",null,"React.useEffect(effect, deps)")," \u65f6, \u4f1a\u8c03\u7528\u4e0a\u4e00\u6b21\u8fd4\u56de\u7684 dispose \u51fd\u6570, \u50cf\u8fd9\u6837:"),c.a.createElement(o["a"],{code:"React.useEffect(() => {\n  // some side effect here\n\n  return () => {\n    // dispose function\n    // clear some side effect here\n  };\n}, deps);",lang:"jsx"}),c.a.createElement("p",null,"\u6240\u4ee5\u5bf9\u4e8e ",c.a.createElement("code",null,"useTimeout")," \u800c\u8a00, \u5982\u679c\u6211\u4eec\u60f3\u5728",c.a.createElement("strong",null,"\u6bcf\u6b21\u66f4\u65b0 cb \u65f6\u6d88\u9664\u4e0a\u4e00\u6b21 effect"),"\u4e2d ",c.a.createElement("code",null,"setTimeout")," \u4ea7\u751f\u7684 timer, \u6211\u4eec\u4e5f\u53ef\u4ee5\u8fd9\u6837\u5199:"),c.a.createElement(o["a"],{code:"function useTimeout(cb, timeout, deps = []) {\n  const callbackRef = React.useRef(cb);\n\n  React.useEffect(() => {\n    callbackRef.current = cb;\n\n    const timerId = setTimeout(cb, timeout);\n\n    return () => {\n      clearTimeout(timerId);\n    };\n  }, deps);\n}",lang:"jsx"}),c.a.createElement("p",null,"\u8fd9\u91cc\u6211\u4eec\u53cd\u800c\u5229\u7528\u4e86 dispose \u7684\u95ed\u5305\u7279\u6027, \u7b80\u6d01\u800c\u51c6\u786e\u5730\u6d88\u9664\u4e86\u4e0a\u4e00\u6b21 effect \u7684\u526f\u4f5c\u7528."),c.a.createElement("p",null,"\u8fd9\u6837\u5c31\u5b8c\u4e86\u4e48? \u903b\u8f91\u4e0a\u662f\u5df2\u7ecf\u7406\u987a\u4e86\u4e86, \u4e0d\u8fc7\u6211\u4eec\u8fd8\u53ef\u4ee5\u589e\u52a0\u4e00\u70b9\u70b9\u7ec6\u8282, \u63d0\u9ad8 ",c.a.createElement("code",null,"useTimeout")," \u7684\u5065\u58ee\u6027:"),c.a.createElement(o["a"],{code:"function useTimeout(cb, timeout, deps = []) {\n  const callbackRef = React.useRef(cb);\n\n  React.useEffect(() => {\n    if (timeout < 0 || typeof callbackRef.current !== 'function') return;\n\n    callbackRef.current = cb;\n\n    const timerId = setTimeout(cb, timeout);\n\n    return () => {\n      clearTimeout(timerId);\n    };\n  }, deps);\n}",lang:"jsx"}),c.a.createElement("p",null,"\u6211\u4eec\u6765\u8bd5\u8bd5\u8fd9\u4e2a ",c.a.createElement("code",null,"useTimeout")," \u80fd\u5426\u6ee1\u8db3\u6211\u4eec\u5728 ",c.a.createElement(l["Link"],{to:"https://zhuanlan.zhihu.com/p/151821200"},"\u8fd9\u7bc7\u6587\u7ae0")," \u672b\u5c3e\u63d0\u51fa\u7684\u8981\u6c42, \u67e5\u770b ",c.a.createElement(l["AnchorLink"],{to:"#live-demo"},"Live Demo"),", \u70b9\u51fb\u5237\u65b0, \u542f\u52a8\u540e\u7b49 3s, \u770b\u770b\u89c6\u56fe\u662f\u5426\u6309\u9884\u671f\u66f4\u65b0\u4e86 :)"),c.a.createElement("h3",{id:"live-demo"},c.a.createElement(l["AnchorLink"],{to:"#live-demo","aria-hidden":"true",tabIndex:-1},c.a.createElement("span",{className:"icon icon-link"})),"Live Demo")),c.a.createElement(r["default"],t["effect-clousre-timer-demo"].previewerProps,c.a.createElement(n,null))))}));t["default"]=e=>{var t=c.a.useContext(l["context"]),n=t.demos;return c.a.useEffect((()=>{var t;null!==e&&void 0!==e&&null!==(t=e.location)&&void 0!==t&&t.hash&&l["AnchorLink"].scrollToAnchor(decodeURIComponent(e.location.hash.slice(1)))}),[]),c.a.createElement(i,{demos:n})}}}]);