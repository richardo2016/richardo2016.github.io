(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[12,3],{JjdP:function(e,t,n){"use strict";n.r(t);var a=n("9og8"),r=n("WmNS"),l=n.n(r),o=n("LtsZ"),c="import React from 'react';\nimport { useBoolean } from '@rangine/richardo2016-hooks';\n\nexport default () => {\n  const [state, { toggle, setTrue, setFalse }] = useBoolean(true);\n\n  return (\n    <div>\n      <p>Effects\uff1a{JSON.stringify(state)}</p>\n      <p>\n        <button type=\"button\" onClick={() => toggle()}>\n          Toggle\n        </button>\n        <button type=\"button\" onClick={setFalse} style={{ margin: '0 16px' }}>\n          Set false\n        </button>\n        <button type=\"button\" onClick={setTrue}>\n          Set true\n        </button>\n      </p>\n    </div>\n  );\n};",u="import React from 'react';\nimport { useOnClickOutside } from '@rangine/richardo2016-hooks';\n\nexport default () => {\n  const domRef = React.useRef(null);\n  const [count, setCount] = React.useState(0);\n  useOnClickOutside(domRef, () => {\n    setCount((prev) => prev + 1);\n  });\n\n  return (\n    <div>\n      <p>Click outside to add counter</p>\n      <p>count is {count}</p>\n      <button\n        type=\"button\"\n        ref={domRef}\n        onClick={() => {\n          setCount(0);\n        }}\n      >\n        Reset\n      </button>\n    </div>\n  );\n};",s="import React from 'react';\nimport { useToggle } from '@rangine/richardo2016-hooks';\n\nexport default () => {\n  const [state, { toggle }] = useToggle();\n\n  return (\n    <div>\n      <p>Effects\uff1a{`${state}`}</p>\n      <p>\n        <button type=\"button\" onClick={() => toggle()}>\n          Toggle\n        </button>\n        <button type=\"button\" onClick={() => toggle(false)} style={{ margin: '0 8px' }}>\n          Toggle False\n        </button>\n        <button type=\"button\" onClick={() => toggle(true)}>\n          Toggle True\n        </button>\n      </p>\n    </div>\n  );\n};",d="import React from 'react';\nimport { useToggle } from '@rangine/richardo2016-hooks';\n\nexport default () => {\n  const [state, { toggle, setLeft, setRight }] = useToggle('Hello', 'World');\n\n  return (\n    <div>\n      <p>Effects\uff1a{state}</p>\n      <p>\n        <button type=\"button\" onClick={() => toggle()}>\n          Toggle\n        </button>\n        <button type=\"button\" onClick={() => toggle('Hello')} style={{ margin: '0 8px' }}>\n          Toggle Hello\n        </button>\n        <button type=\"button\" onClick={() => toggle('World')}>\n          Toggle World\n        </button>\n        <button type=\"button\" onClick={setLeft} style={{ margin: '0 8px' }}>\n          Set Hello\n        </button>\n        <button type=\"button\" onClick={setRight}>\n          Set World\n        </button>\n      </p>\n    </div>\n  );\n};";t["default"]={"ghost-on-react-hooks-demo":{component:Object(o["dynamic"])({loader:function(){var e=Object(a["default"])(l.a.mark((function e(){var t,a,r,o;return l.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return o=function(){var e=r.default.useState(0),t=(0,a.default)(e,2),n=t[0],l=t[1],o=r.default.useState(""),c=(0,a.default)(o,2),u=c[0],s=c[1];return r.default.useEffect((function(){var e=setInterval((function(){l((function(e){return e+1}))}),1e3);return function(){clearInterval(e)}}),[]),r.default.createElement(r.default.Fragment,null,r.default.createElement("p",null,"time counter: ",n),r.default.createElement("input",{value:u,onChange:function(e){s(e.target.value)},placeholder:"text value"}))},t=n("K+nK"),e.t0=t,e.next=5,n.e(5).then(n.bind(null,"tJVT"));case 5:return e.t1=e.sent,a=(0,e.t0)(e.t1),e.t2=t,e.next=10,Promise.resolve().then(n.t.bind(null,"cDcd",7));case 10:return e.t3=e.sent,r=(0,e.t2)(e.t3),e.abrupt("return",o);case 13:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()}),previewerProps:{sources:{_:{jsx:"import React from 'react';\n\nexport default function SimpleInput() {\n  const [clock, setClock] = React.useState(0);\n  const [textValue, setTextValue] = React.useState('');\n\n  React.useEffect(() => {\n    const timer = setInterval(() => {\n      setClock((prev) => prev + 1);\n    }, 1000);\n\n    return () => {\n      clearInterval(timer);\n    };\n  }, []);\n\n  return (\n    <>\n      <p>time counter: {clock}</p>\n      <input\n        value={textValue}\n        onChange={(domEvt) => {\n          setTextValue(domEvt.target.value);\n        }}\n        placeholder=\"text value\"\n      />\n    </>\n  );\n}"}},dependencies:{react:{version:"16.14.0"}},defaultShowCode:!0,identifier:"ghost-on-react-hooks-demo"}},"ghost-on-react-hooks-demo-1":{component:Object(o["dynamic"])({loader:function(){var e=Object(a["default"])(l.a.mark((function e(){var t,a,r,o;return l.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return o=function(){var e=r.default.useState(0),t=(0,a.default)(e,2),n=t[0],l=t[1],o=r.default.useState(""),c=(0,a.default)(o,2),u=c[0],s=c[1],d=r.default.useCallback((function(e){s(e.target.value)}),[]);return r.default.useEffect((function(){var e=setInterval((function(){l((function(e){return e+1}))}),1e3);return function(){clearInterval(e)}}),[]),r.default.createElement(r.default.Fragment,null,r.default.createElement("p",null,"time counter: ",n),r.default.createElement("input",{value:u,onChange:d,placeholder:"text value"}))},t=n("K+nK"),e.t0=t,e.next=5,n.e(5).then(n.bind(null,"tJVT"));case 5:return e.t1=e.sent,a=(0,e.t0)(e.t1),e.t2=t,e.next=10,Promise.resolve().then(n.t.bind(null,"cDcd",7));case 10:return e.t3=e.sent,r=(0,e.t2)(e.t3),e.abrupt("return",o);case 13:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()}),previewerProps:{sources:{_:{jsx:"import React from 'react';\n\nexport default function SimpleInput() {\n  const [clock, setClock] = React.useState(0);\n  const [textValue, setTextValue] = React.useState('');\n\n  const onTextChange = React.useCallback((domEvt) => {\n    setTextValue(domEvt.target.value);\n  }, []);\n\n  React.useEffect(() => {\n    const timer = setInterval(() => {\n      setClock((prev) => prev + 1);\n    }, 1000);\n\n    return () => {\n      clearInterval(timer);\n    };\n  }, []);\n\n  return (\n    <>\n      <p>time counter: {clock}</p>\n      <input\n        value={textValue}\n        onChange={onTextChange}\n        placeholder=\"text value\"\n      />\n    </>\n  );\n}"}},dependencies:{react:{version:"16.14.0"}},identifier:"ghost-on-react-hooks-demo-1"}},"ghost-on-react-hooks-demo-2":{component:Object(o["dynamic"])({loader:function(){var e=Object(a["default"])(l.a.mark((function e(){var t,a,r,o,c,u,s,d,i,m,f,p;return l.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return p=function(){var e=u.default.useState(i),t=(0,o.default)(e,2),n=t[0],l=t[1],s=u.default.useState(null),d=(0,o.default)(s,2),p=d[0],h=d[1],E=u.default.useState(null),b=(0,o.default)(E,2),g=b[0],y=b[1],v=u.default.useCallback((0,c.default)(a.default.mark((function e(){var t;return a.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("[loadData] get sortBy",p),console.log("[loadData] get orderBy",g),e.next=4,m(p,g);case 4:t=e.sent,l(t);case 6:case"end":return e.stop()}}),e)}))),[p,g]),k=u.default.useCallback(function(){var e=(0,c.default)(a.default.mark((function e(t,n,r){return a.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:console.log("[handlePageChange] setSortBy, setOrderBy from sorter",r),h(r.field),y(r.order),v();case 4:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),[v]);return u.default.createElement("div",{className:"App"},u.default.createElement("div",null,"sortBy: ",p||"-"," ",u.default.createElement("br",null),"orderBy: ",g||"-"," ",u.default.createElement("br",null)),u.default.createElement(r.default,{dataSource:n,columns:f,onChange:k}))},t=n("K+nK"),e.t0=t,e.next=5,Promise.resolve().then(n.t.bind(null,"WmNS",7));case 5:return e.t1=e.sent,a=(0,e.t0)(e.t1),e.next=9,n.e(7).then(n.bind(null,"g9YV"));case 9:return e.t2=t,e.next=12,Promise.all([n.e(1),n.e(2),n.e(6),n.e(8)]).then(n.bind(null,"wCAj"));case 12:return e.t3=e.sent,r=(0,e.t2)(e.t3),e.t4=t,e.next=17,n.e(5).then(n.bind(null,"tJVT"));case 17:return e.t5=e.sent,o=(0,e.t4)(e.t5),e.t6=t,e.next=22,Promise.resolve().then(n.bind(null,"9og8"));case 22:return e.t7=e.sent,c=(0,e.t6)(e.t7),e.t8=t,e.next=27,Promise.resolve().then(n.t.bind(null,"cDcd",7));case 27:return e.t9=e.sent,u=(0,e.t8)(e.t9),e.next=31,Promise.resolve().then(n.t.bind(null,"Exp3",7));case 31:return e.sent,s=function(e,t){return e<=t?-1:1},d=function(e,t){return e>t?-1:1},i=Array(100).fill(void 0).map((function(e,t){return{f1:t+1,f2:Math.floor(100*Math.random()),f3:Math.floor(1e3*Math.random())}})).sort((function(e,t){return d(e.f1,t.f1)})),m=function(){var e=(0,c.default)(a.default.mark((function e(t,n){return a.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",i.sort((function(e,a){switch(n){case"ascend":return s(e[t],a[t]);default:return Array.from(i);case"descend":return d(e[t],a[t])}})));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),f=[{title:"f1",dataIndex:"f1",sorter:!0},{title:"f2",dataIndex:"f2",sorter:!0},{title:"f3",dataIndex:"f3",sorter:!0}],e.abrupt("return",p);case 38:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()}),previewerProps:{sources:{_:{jsx:"import React from 'react';\nimport { Table } from 'antd';\n\nconst ascOrder = (a, b) => (a <= b ? -1 : 1);\nconst descOrder = (a, b) => (a > b ? -1 : 1);\n\nconst dataSource = Array(100)\n  .fill(undefined)\n  .map((x, idx) => {\n    return {\n      f1: idx + 1,\n      f2: Math.floor(Math.random() * 100),\n      f3: Math.floor(Math.random() * 1000),\n    };\n  })\n  .sort((a, b) => descOrder(a.f1, b.f1));\n\nconst fakeResortByRemote = async (sortBy, order) => {\n  return dataSource.sort((a, b) => {\n    switch (order) {\n      case 'ascend':\n        return ascOrder(a[sortBy], b[sortBy]);\n      default:\n        return Array.from(dataSource);\n      case 'descend':\n        return descOrder(a[sortBy], b[sortBy]);\n    }\n  });\n};\n\nconst columnsConfig = [\n  {\n    title: 'f1',\n    dataIndex: 'f1',\n    sorter: true,\n  },\n  {\n    title: 'f2',\n    dataIndex: 'f2',\n    sorter: true,\n  },\n  {\n    title: 'f3',\n    dataIndex: 'f3',\n    sorter: true,\n  },\n];\n\nexport default function App() {\n  const [listData, setListData] = React.useState(dataSource);\n  const [sortBy, setSortBy] = React.useState(null);\n  const [orderBy, setOrderBy] = React.useState(null);\n\n  const loadData = React.useCallback(async () => {\n    console.log('[loadData] get sortBy', sortBy);\n    console.log('[loadData] get orderBy', orderBy);\n    const newDataSource = await fakeResortByRemote(sortBy, orderBy);\n    setListData(newDataSource);\n  }, [sortBy, orderBy]);\n\n  const handlePageChange = React.useCallback(\n    async (_, _1, sorter) => {\n      console.log(\n        '[handlePageChange] setSortBy, setOrderBy from sorter',\n        sorter,\n      );\n      setSortBy(sorter.field);\n      setOrderBy(sorter.order);\n      loadData();\n    },\n    [loadData],\n  );\n\n  return (\n    <div className=\"App\">\n      <div>\n        sortBy: {sortBy || '-'} <br />\n        orderBy: {orderBy || '-'} <br />\n      </div>\n      <Table\n        dataSource={listData}\n        columns={columnsConfig}\n        onChange={handlePageChange}\n      />\n    </div>\n  );\n}"}},dependencies:{antd:{version:"4.16.13",css:"antd/dist/antd.css"},react:{version:">=16.9.0"},"react-dom":{version:">=16.9.0"}},identifier:"ghost-on-react-hooks-demo-2"}},"ghost-on-react-hooks-demo-3":{component:Object(o["dynamic"])({loader:function(){var e=Object(a["default"])(l.a.mark((function e(){var t,a,r,o,c,u,s,d,i,m,f,p;return l.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return p=function(){var e=u.default.useState(i),t=(0,o.default)(e,2),n=t[0],l=t[1],s=u.default.useState(null),d=(0,o.default)(s,2),p=d[0],h=d[1],E=u.default.useState(null),b=(0,o.default)(E,2),g=b[0],y=b[1],v=u.default.useCallback(function(){var e=(0,c.default)(a.default.mark((function e(t,n){var r;return a.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,m(t,n);case 2:r=e.sent,l(r),h(t),y(n);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[]),k=u.default.useCallback(function(){var e=(0,c.default)(a.default.mark((function e(t,n,r){return a.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:v(r.field,r.order);case 1:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),[v]);return u.default.createElement("div",{className:"App"},u.default.createElement("div",null,"sortBy: ",p||"-"," ",u.default.createElement("br",null),"orderBy: ",g||"-"," ",u.default.createElement("br",null)),u.default.createElement(r.default,{dataSource:n,columns:f,onChange:k}))},t=n("K+nK"),e.t0=t,e.next=5,Promise.resolve().then(n.t.bind(null,"WmNS",7));case 5:return e.t1=e.sent,a=(0,e.t0)(e.t1),e.next=9,n.e(7).then(n.bind(null,"g9YV"));case 9:return e.t2=t,e.next=12,Promise.all([n.e(1),n.e(2),n.e(6),n.e(8)]).then(n.bind(null,"wCAj"));case 12:return e.t3=e.sent,r=(0,e.t2)(e.t3),e.t4=t,e.next=17,n.e(5).then(n.bind(null,"tJVT"));case 17:return e.t5=e.sent,o=(0,e.t4)(e.t5),e.t6=t,e.next=22,Promise.resolve().then(n.bind(null,"9og8"));case 22:return e.t7=e.sent,c=(0,e.t6)(e.t7),e.t8=t,e.next=27,Promise.resolve().then(n.t.bind(null,"cDcd",7));case 27:return e.t9=e.sent,u=(0,e.t8)(e.t9),e.next=31,Promise.resolve().then(n.t.bind(null,"Exp3",7));case 31:return e.sent,s=function(e,t){return e<=t?-1:1},d=function(e,t){return e>t?-1:1},i=Array(100).fill(void 0).map((function(e,t){return{f1:t+1,f2:Math.floor(100*Math.random()),f3:Math.floor(1e3*Math.random())}})).sort((function(e,t){return d(e.f1,t.f1)})),m=function(){var e=(0,c.default)(a.default.mark((function e(t,n){return a.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",i.sort((function(e,a){switch(n){case"ascend":return s(e[t],a[t]);default:return Array.from(i);case"descend":return d(e[t],a[t])}})));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),f=[{title:"f1",dataIndex:"f1",sorter:!0},{title:"f2",dataIndex:"f2",sorter:!0},{title:"f3",dataIndex:"f3",sorter:!0}],e.abrupt("return",p);case 38:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()}),previewerProps:{sources:{_:{jsx:"import React from 'react';\nimport { Table } from 'antd';\n\nconst ascOrder = (a, b) => (a <= b ? -1 : 1);\nconst descOrder = (a, b) => (a > b ? -1 : 1);\n\nconst dataSource = Array(100)\n  .fill(undefined)\n  .map((x, idx) => {\n    return {\n      f1: idx + 1,\n      f2: Math.floor(Math.random() * 100),\n      f3: Math.floor(Math.random() * 1000),\n    };\n  })\n  .sort((a, b) => descOrder(a.f1, b.f1));\n\nconst fakeResortByRemote = async (sortBy, order) => {\n  return dataSource.sort((a, b) => {\n    switch (order) {\n      case 'ascend':\n        return ascOrder(a[sortBy], b[sortBy]);\n      default:\n        return Array.from(dataSource);\n      case 'descend':\n        return descOrder(a[sortBy], b[sortBy]);\n    }\n  });\n};\n\nconst columnsConfig = [\n  {\n    title: 'f1',\n    dataIndex: 'f1',\n    sorter: true,\n  },\n  {\n    title: 'f2',\n    dataIndex: 'f2',\n    sorter: true,\n  },\n  {\n    title: 'f3',\n    dataIndex: 'f3',\n    sorter: true,\n  },\n];\n\nexport default function App() {\n  const [listData, setListData] = React.useState(dataSource);\n  const [sortBy, setSortBy] = React.useState(null);\n  const [orderBy, setOrderBy] = React.useState(null);\n\n  const loadData = React.useCallback(async (sortField, order) => {\n    const newDataSource = await fakeResortByRemote(sortField, order);\n    setListData(newDataSource);\n    setSortBy(sortField);\n    setOrderBy(order);\n  }, []);\n\n  const handlePageChange = React.useCallback(\n    async (_, _1, sorter) => {\n      loadData(sorter.field, sorter.order);\n    },\n    [loadData],\n  );\n\n  return (\n    <div className=\"App\">\n      <div>\n        sortBy: {sortBy || '-'} <br />\n        orderBy: {orderBy || '-'} <br />\n      </div>\n      <Table\n        dataSource={listData}\n        columns={columnsConfig}\n        onChange={handlePageChange}\n      />\n    </div>\n  );\n}"}},dependencies:{antd:{version:"4.16.13",css:"antd/dist/antd.css"},react:{version:">=16.9.0"},"react-dom":{version:">=16.9.0"}},identifier:"ghost-on-react-hooks-demo-3"}},"useboolean-demo1":{component:Object(o["dynamic"])({loader:function(){var e=Object(a["default"])(l.a.mark((function e(){return l.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,n.e(10).then(n.bind(null,"yoie"));case 2:return e.abrupt("return",e.sent.default);case 3:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()}),previewerProps:{sources:{_:{tsx:c}},dependencies:{react:{version:"^16.8.6 || ^17.0"},"@rangine/richardo2016-hooks":{version:"0.1.1"}},title:"Default usage","title.zh-CN":"\u57fa\u7840\u7528\u6cd5",description:'<div class="markdown"><p>Default as a switch function, or accept a parameter to change state.</p></div>',"description.zh-CN":'<div class="markdown"><p>\u9ed8\u8ba4\u5207\u6362\u5e03\u5c14\u503c\u72b6\u6001\uff0c\u4e5f\u53ef\u4ee5\u63a5\u6536\u4e00\u4e2a\u53c2\u6570\u4f5c\u4e3a\u65b0\u7684\u503c\u3002</p></div>',identifier:"useboolean-demo1"}},"useonclickoutside-demo1":{component:Object(o["dynamic"])({loader:function(){var e=Object(a["default"])(l.a.mark((function e(){return l.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,n.e(10).then(n.bind(null,"CWh3"));case 2:return e.abrupt("return",e.sent.default);case 3:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()}),previewerProps:{sources:{_:{tsx:u}},dependencies:{react:{version:"^16.8.6 || ^17.0"},"@rangine/richardo2016-hooks":{version:"0.1.1"}},title:"Default usage","title.zh-CN":"\u57fa\u7840\u7528\u6cd5",description:"","description.zh-CN":'<div class="markdown"><p>\u70b9\u51fb\u6309\u94ae\u4e4b\u5916, \u89e6\u53d1\u56de\u8c03\u4f7f\u5f97\u8ba1\u6570\u5668\u589e\u52a0; \u70b9\u51fb\u6309\u94ae, \u5c06\u8ba1\u6570\u5668\u6e05\u96f6</p></div>',identifier:"useonclickoutside-demo1"}},"usetoggle-demo1":{component:Object(o["dynamic"])({loader:function(){var e=Object(a["default"])(l.a.mark((function e(){return l.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,n.e(10).then(n.bind(null,"82LI"));case 2:return e.abrupt("return",e.sent.default);case 3:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()}),previewerProps:{sources:{_:{tsx:s}},dependencies:{react:{version:"^16.8.6 || ^17.0"},"@rangine/richardo2016-hooks":{version:"0.1.1"}},title:"Default usage","title.zh-CN":"\u57fa\u7840\u7528\u6cd5",description:'<div class="markdown"><p>use boolean value as default\uff0cuse it as same as useBoolean.</p></div>',"description.zh-CN":'<div class="markdown"><p>\u9ed8\u8ba4\u4e3a boolean \u5207\u6362\uff0c\u57fa\u7840\u7528\u6cd5\u4e0e useBoolean \u4e00\u81f4\u3002</p></div>',identifier:"usetoggle-demo1"}},"usetoggle-demo2":{component:Object(o["dynamic"])({loader:function(){var e=Object(a["default"])(l.a.mark((function e(){return l.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,n.e(10).then(n.bind(null,"Dr+N"));case 2:return e.abrupt("return",e.sent.default);case 3:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()}),previewerProps:{sources:{_:{tsx:d}},dependencies:{react:{version:"^16.8.6 || ^17.0"},"@rangine/richardo2016-hooks":{version:"0.1.1"}},title:"Switch between any two values","title.zh-CN":"\u5728\u4efb\u610f\u4e24\u4e2a\u503c\u4e4b\u95f4\u5207\u6362",description:'<div class="markdown"><p>Accept two parameters, switch between them.</p></div>',"description.zh-CN":'<div class="markdown"><p>\u63a5\u53d7\u4e24\u4e2a\u53c2\u6570\uff0c\u5728\u53c2\u6570\u95f4\u8fdb\u884c\u5207\u6362\u3002</p></div>',identifier:"usetoggle-demo2"}}}},MZF8:function(e,t,n){"use strict";var a=n("ogwx");n.d(t,"a",(function(){return a["b"]}));n("VCU9")},XkN4:function(e,t,n){"use strict";n.r(t);var a=n("cDcd"),r=n.n(a),l=n("dEAq"),o=n("Zxc8"),c=n("H1Ra"),u=n("JjdP"),s=r.a.memo(u["default"]["ghost-on-react-hooks-demo"].component),d=r.a.memo(u["default"]["ghost-on-react-hooks-demo-1"].component),i=r.a.memo(u["default"]["ghost-on-react-hooks-demo-2"].component),m=r.a.memo(u["default"]["ghost-on-react-hooks-demo-3"].component);t["default"]=e=>(r.a.useEffect((()=>{var t;null!==e&&void 0!==e&&null!==(t=e.location)&&void 0!==t&&t.hash&&l["AnchorLink"].scrollToAnchor(decodeURIComponent(e.location.hash.slice(1)))}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"markdown"},r.a.createElement("h2",{id:"\u524d\u8a00"},r.a.createElement(l["AnchorLink"],{to:"#\u524d\u8a00","aria-hidden":"true",tabIndex:-1},r.a.createElement("span",{className:"icon icon-link"})),"\u524d\u8a00"),r.a.createElement("p",null,"\u5bf9\u4e8e react hooks, \u6211\u4e2a\u4eba\u4f7f\u7528\u6700\u591a\u7684\u662f\u4ee5\u4e0b\u4e09\u4e2a hook \u65b9\u6cd5:"),r.a.createElement("ul",null,r.a.createElement("li",null,"useState"),r.a.createElement("li",null,"useRef"),r.a.createElement("li",null,"useCallback")),r.a.createElement("p",null,"\u5173\u4e8e useState \u548c useRef \u7684\u914d\u5408\u4f7f\u7528\uff0c\u53ef\u4ee5\u53c2\u8003 ",r.a.createElement(l["Link"],{to:"https://zhuanlan.zhihu.com/p/142490019"},"Richard\uff1a\u770b\u5230\u8d5a\u5230\uff01React Hooks \u5947\u6280\u6deb\u5de7 \u2014\u2014 \u526f\u4f5c\u7528, \u95ed\u5305 \u4e0e Timer"),'. \u5728\u672c\u6587\u4e2d, \u6211\u4eec\u6765\u8c08\u8c08 useCallback \u7684\u5e38\u89c1\u4f7f\u7528\u573a\u666f, \u4ee5\u53ca\u4e00\u4e2a\u5bf9\u521d\u5b66\u8005\u800c\u8a00\u532a\u5937\u6240\u601d\u7684\u4f9d\u8d56\u66f4\u65b0\u95ee\u9898, \u6211\u79f0\u4e4b\u4e3a "useCallback \u7684\u5e7d\u7075\u73b0\u8c61".'),r.a.createElement("p",null,"\u5982\u679c\u4f60\u5bf9 react hooks \u8fd8\u4e0d\u4e86\u89e3, \u53ef\u5148\u7b80\u5355\u770b\u4e00\u4e0b ",r.a.createElement(l["Link"],{to:"https://reactjs.org/docs/hooks-reference.html"},"https://reactjs.org/docs/hooks-reference.html")," \u4ee5\u4e86\u89e3\u6709\u54ea\u4e9b hooks api. \u5b83\u4eec\u5bf9\u4e8e React (>= 16.8)\u4e2d\u7684\u51fd\u6570\u5f0f\u7ec4\u4ef6(Functional Component, \u4e0b\u6587\u7b80\u79f0 FC), \u90fd\u8d77\u5230\u4e86\u6807\u8bb0\u4e00\u4e2a\u6709\u72b6\u6001\u53d8\u91cf\u7684\u4f5c\u7528."),r.a.createElement("h2",{id:"usecallback-\u7684\u7528\u6cd5"},r.a.createElement(l["AnchorLink"],{to:"#usecallback-\u7684\u7528\u6cd5","aria-hidden":"true",tabIndex:-1},r.a.createElement("span",{className:"icon icon-link"})),"useCallback \u7684\u7528\u6cd5"),r.a.createElement(c["a"],{code:"const memoizedCallback = useCallback(() => {\n  doSomething(a, b);\n}, [a, b]);",lang:"jsx"}),r.a.createElement("p",null,"\u8fd9 React \u5b98\u65b9\u4e3a ",r.a.createElement("code",null,"useCallback")," \u914d\u7684\u4f8b\u5b50, \u5b83\u89e3\u91ca\u4e86 ",r.a.createElement("code",null,"useCallback")," \u7684\u57fa\u672c\u5de5\u4f5c\u539f\u7406:"),r.a.createElement("p",null,'\u5728\u4e00\u4e2a FC \u4e2d, \u5305\u88c5\u4e00\u4e2a\u51fd\u6570, \u8fd9\u4e2a\u51fd\u6570\u4f1a\u88ab"\u8bb0\u4f4f", \u5982\u679c\u6ca1\u6709\u522b\u7684\u539f\u56e0, \u8fd9\u4e2a\u51fd\u6570\u5728 FC \u591a\u6b21\u88ab\u8c03\u7528\u7684\u8fc7\u7a0b\u4e2d\u662f\u4e0d\u53d8\u7684 (\u4e5f\u5c31\u662f react hook \u7684\u72b6\u6001) \u5982\u679c useCallback(cb, deps) \u7684 deps \u5217\u8868\u4e2d\u6709\u4efb\u610f\u4e00\u9879\u53d1\u751f\u4e86\u53d8\u5316 (\u5bf9\u4e8e primitive type \u800c\u8a00, \u662f\u503c\u7684\u53d8\u5316; \u5bf9\u4e8e object \u800c\u8a00, \u662f\u5f15\u7528\u7684\u53d8\u5316/\u5185\u5b58\u5730\u5740\u7684\u53d8\u5316), \u5219 memoizedCallback \u4f1a\u88ab\u66f4\u65b0, \u5e76\u4e14\u5728 FC \u7684\u4e0b\u4e00\u6b21\u6e32\u67d3\u4e2d\u4f7f\u7528\u65b0\u7684\u526f\u672c. \u6211\u4eec\u4e3e\u4f8b\u8bf4\u660e\u4e0b, \u4ee5\u4e0b\u9762\u8fd9\u6bb5\u4ee3\u7801\u4e3a\u4f8b:'),r.a.createElement(c["a"],{code:"const [a, setA] = React.useState('');\nconst [b, setB] = React.useState({});\nconst [c, setC] = React.useState('');\n\nconst memoizedCallback = useCallback(() => {\n  doSomething(a, b);\n}, [a, b]);",lang:"jsx"}),r.a.createElement("p",null,"\u6211\u4eec\u7528\u7b80\u5355\u7684\u56fe\u6587\u5b57\u6765\u8868\u793a\u4e00\u4e0b useCallback(cb, [a, b] \u7684\u5de5\u4f5c\u673a\u5236:"),r.a.createElement(c["a"],{code:"+++++++++ first time render ++++++++\nmemoizedCallback(snapshot_1) = useCallback(cb, [a, b]); ---- S1\n\n...( asynchronous procedure: setC('newC')! )\n...( trigger re-render )\n\n+++++++++ second time render ++++++++\nmemoizedCallback(snapshot_1) = useCallback(cb, [a, b]); ---- S1\n\n...( asynchronous procedure: setA('newA')! )\n...( trigger re-render )\n\n+++++++++ third time render ++++++++\nmemoizedCallback(snapshot_2) = useCallback(cb, [a, b]); ---- S1\n\n...",lang:"plain"}),r.a.createElement("p",null,"\u5bf9\u5e94\u7684\u6587\u5b57\u63cf\u8ff0:"),r.a.createElement("ol",null,r.a.createElement("li",null,"FC \u8fdb\u884c\u7b2c\u4e00\u6b21\u6e32\u67d3, useCallback \u6267\u884c(\u6211\u4eec\u628a\u8fd9\u4e2a\u6267\u884c\u70b9\u8bb0\u4e3a S1)\u5f97\u5230\u6709\u72b6\u6001\u7684 memoizedCallback(\u8fd9\u662f\u4e00\u4efd\u526f\u672c snapshot_1)"),r.a.createElement("li",null,"\u5728\u67d0\u4e2a\u5f02\u6b65\u903b\u8f91\u4e2d, \u6267\u884c setC(...) , \u5bfc\u81f4\u6574\u4e2a FC \u8fdb\u5165\u91cd\u65b0\u6e32\u67d3(\u6ce8\u610f a, b \u6ca1\u6709\u88ab\u66f4\u65b0)"),r.a.createElement("li",null,"FC \u8fdb\u884c\u7b2c\u4e8c\u6b21\u6e32\u67d3, \u5728 S1 \u5904, useCallback(cb, deps)\u6839\u636e deps \u5185\u7684\u5404\u503c\u53d8\u5316\u786e\u5b9a\u662f\u5426\u8981\u5bf9 S1 \u7684\u503c\u66f4\u65b0; \u53d1\u73b0 deps \u4e2d\u5e76\u65e0\u53d8\u5316. \u4e8e\u662f\u4fdd\u7559 memoizedCallback \u7684\u526f\u672c snapshot_1;"),r.a.createElement("li",null,"\u5728\u67d0\u4e2a\u5f02\u6b65\u903b\u8f91\u4e2d, \u6267\u884c setA(...), \u5bfc\u81f4\u6574\u4e2a FC \u8fdb\u5165\u91cd\u65b0\u6e32\u67d3(\u6ce8\u610f a \u88ab\u66f4\u65b0\u4e86)"),r.a.createElement("li",null,"FC \u8fdb\u884c\u7b2c\u4e09\u6b21\u6e32\u67d3, \u5728 S1 \u5904, useCallback(cb, deps)\u6839\u636e deps \u5185\u7684\u5404\u503c\u53d8\u5316\u786e\u5b9a\u662f\u5426\u8981\u5bf9 S1 \u7684\u503c\u66f4\u65b0; \u53d1\u73b0 deps \u4e2d\u7684 a \u53d1\u751f\u4e86\u53d8\u5316. \u4e8e\u662f\u66f4\u65b0 memoizedCallback \u7684\u503c\u4e3a snapshot_2.")),r.a.createElement("p",null,"\u4ee5\u4e0a\u5c31\u662f ",r.a.createElement("code",null,"useCallback")," \u7684\u5de5\u4f5c\u539f\u7406\u7b80\u4ecb. \u4ece\u4e2d\u53ef\u4ee5\u770b\u51fa, ",r.a.createElement("code",null,"useCallback")," \u53ef\u4ee5\u7528\u4e8e\u51cf\u5c11 FC \u4e2d\u4e0d\u5fc5\u8981\u7684\u5bf9\u51fd\u6570\u7c7b\u72b6\u6001\u66f4\u65b0. \u5177\u4f53\u6765\u8bf4, \u6709\u53ef\u80fd\u5728 FC \u4e2d\u4f60\u9700\u8981\u6784\u9020\u4e00\u4e2a\u4f9d\u8d56\u4e86 FC \u5185\u90e8\u53d8\u91cf\u7684\u51fd\u6570(\u5f80\u5f80\u5b83\u6240\u4f9d\u8d56\u7684\u53d8\u91cf\u8fd8\u662f FC \u7684\u53e6\u4e00\u4e2a\u6709\u72b6\u6001\u7684\u53d8\u91cf), \u90a3\u4e48, \u6211\u4eec\u4e0d\u59a8\u7528 useCallback \u6765\u5305\u88c5\u4e00\u4e0b\u8fd9\u4e2a\u51fd\u6570."),r.a.createElement("h2",{id:"\u4e00\u4e2a\u7b80\u5355\u573a\u666f"},r.a.createElement(l["AnchorLink"],{to:"#\u4e00\u4e2a\u7b80\u5355\u573a\u666f","aria-hidden":"true",tabIndex:-1},r.a.createElement("span",{className:"icon icon-link"})),"\u4e00\u4e2a\u7b80\u5355\u573a\u666f"),r.a.createElement("p",null,"\u6211\u4eec\u60f3\u8c61\u8fd9\u6837\u7684\u573a\u666f: \u4f60\u6709\u4e00\u4e2a\u7ec4\u4ef6, \u5b83\u5305\u542b\u4e24\u90e8\u5206:"),r.a.createElement("ol",null,r.a.createElement("li",null,"\u4e00\u4e2a\u4ece 0 \u5f00\u59cb\u7684\u8ba1\u65f6\u5668, \u6bcf\u8fc7 1 \u79d2, \u4f60\u9700\u8981\u5c06\u5176\u66f4\u65b0, \u5e76\u5c06\u5b83\u7684\u503c\u5c55\u793a\u51fa\u6765."),r.a.createElement("li",null,"\u4e00\u4e2a\u8f93\u5165\u6846 input, \u4f60\u8981\u5c06\u5176\u505a\u6210\u54cd\u5e94\u5f0f\u7684(reactive), \u5373, \u5b83\u7684\u503c\u6765\u81ea\u4e8e\u4e00\u4e2a stateful value, \u4e14\u5f53\u4f60\u5bf9\u5b83\u8f93\u5165\u65b0\u7684\u5185\u5bb9\u65f6, \u5176\u503c\u80fd\u591f\u53cd\u5e94\u5230 stateful value \u4e2d. \u6211\u4eec\u5c06\u8fd9\u4e2a input \u7ec4\u4ef6\u8868\u8fbe\u5982\u4e0b:"))),r.a.createElement(o["default"],u["default"]["ghost-on-react-hooks-demo"].previewerProps,r.a.createElement(s,null)),r.a.createElement("div",{className:"markdown"},r.a.createElement("p",null,"\u8fd9\u6837\u5f53\u7136\u53ef\u4ee5\u8fbe\u5230\u6211\u4eec\u7684\u76ee\u7684, \u4f46\u6709\u4e2a\u5c0f\u5c0f\u7684\u4e0d\u8db3: \u5f53 ",r.a.createElement("code",null,"<SimpleInput />")," \u91cd\u65b0\u6e32\u67d3, \u6bcf\u6b21 ",r.a.createElement("code",null,"<input />")," \u7684 property onChange \u90fd\u4f1a\u5f97\u5230\u4e00\u4e2a\u5168\u65b0\u7684\u56de\u8c03\u51fd\u6570:"),r.a.createElement(c["a"],{code:"(domEvt) => {\n  setTextValue(domEvt.target.value);\n};",lang:"jsx"}),r.a.createElement("p",null,"\u6211\u4eec\u5e76\u4e0d\u62c5\u5fc3\u521b\u5efa\u8fd9\u6837\u4e00\u4e2a\u56de\u8c03\u51fd\u6570\u7684\u5f00\u9500, \u5b83\u5fae\u4e4e\u5176\u5fae. \u4f46\u8fd9\u6837\u53ef\u80fd\u5bfc\u81f4 ",r.a.createElement("code",null,"<input />")," \u5f97\u5230\u7684\u4e00\u4e2a property \u53d1\u751f\u4e86\u53d8\u5316."),r.a.createElement("p",null,"\u5728\u8fd9\u4e2a\u4f8b\u5b50\u4e2d, \u6bcf\u8fc7 1s, ",r.a.createElement("code",null,"<SimpleInput />")," \u5c31\u4f1a\u56e0\u4e3a ",r.a.createElement("code",null,"setClock")," \u88ab\u8c03\u7528\u800c\u53d1\u751f\u91cd\u65b0\u6e32\u67d3, \u7ee7\u800c ",r.a.createElement("code",null,"<input onChange />")," \u4f1a\u5f97\u5230\u4e00\u4e2a\u5168\u65b0\u7684 ",r.a.createElement("code",null,"onChange")," \u503c, \u800c\u8fd9\u4e2a onChange \u7684\u53d8\u5316\u53ef\u80fd\u4f1a\u5bfc\u81f4 ",r.a.createElement("code",null,"<input />")," \u5185\u90e8\u53d1\u751f\u4e00\u4e9b\u8ba1\u7b97. \u4f46\u5b9e\u9645\u4e0a, ",r.a.createElement("code",null,"onChange")," \u505a\u7684\u4e8b\u4e00\u76f4\u4e0d\u53d8: \u4ece\u7528\u6237\u7684\u8f93\u5165\u4e2d\u83b7\u53d6\u6700\u65b0\u7684\u503c, \u66f4\u65b0\u7ed9 ",r.a.createElement("code",null,"textValue"),". ",r.a.createElement("strong",null,"\u8fd9\u4e00\u52a8\u4f5c\u4e0d\u53d7\u5916\u754c\u4efb\u4f55\u53d8\u5316\u5f71\u54cd, \u5c24\u5176\u662f, \u8fd9\u4e2a\u56de\u8c03\u51fd\u6570\u5185\u90e8\u6ca1\u6709\u4f9d\u8d56\u4efb\u4f55\u5176\u5b83\u7684\u5916\u90e8\u6709\u72b6\u6001\u53d8\u91cf.")),r.a.createElement("p",null,r.a.createElement("strong",null,"\u5047\u5982")," ",r.a.createElement("code",null,"<input />")," \u4f1a\u56e0\u4e3a ",r.a.createElement("code",null,"onChange")," \u7684\u53d8\u5316\u800c\u5728\u5185\u90e8\u4ea7\u751f\u5de8\u5927\u7684\u91cd\u65b0\u8ba1\u7b97, \u800c ",r.a.createElement("code",null,"onChange")," \u8981\u505a\u7684\u4e8b\u53c8\u59cb\u7ec8\u4e0d\u53d8, \u5219\u8fd9\u6837\u7684\u91cd\u65b0\u8ba1\u7b97\u662f\u5de8\u5927\u7684\u6d6a\u8d39."),r.a.createElement("p",null,"\u6240\u4ee5, \u4e3a\u4e86\u5c3d\u53ef\u80fd\u907f\u514d ",r.a.createElement("code",null,"<input />")," \u4ea7\u751f\u4e0d\u5fc5\u8981\u7684\u91cd\u65b0\u6e32\u67d3, \u5bf9\u4e8e onTextChange \u8fd9\u4e2a\u5176\u5b9e\u6c38\u8fdc\u4e0d\u4f1a\u53d8\u5316\u5176\u6267\u884c\u5185\u5bb9\u7684\u51fd\u6570\u800c\u8a00, \u6211\u4eec\u53ef\u4ee5\u7528 useCallback \u5c06\u5176\u5305\u88f9\u8d77\u6765:")),r.a.createElement(o["default"],u["default"]["ghost-on-react-hooks-demo-1"].previewerProps,r.a.createElement(d,null)),r.a.createElement("div",{className:"markdown"},r.a.createElement("p",null,"\u8fd9\u6837, \u65e0\u8bba ",r.a.createElement("code",null,"<SimpleInput />")," \u91cd\u65b0\u6e32\u67d3\u591a\u5c11\u6b21, onTextChange \u7684\u503c\u4f1a\u662f\u4e00\u4efd\u6c38\u8fdc\u4e0d\u53d8\u7684",r.a.createElement("strong",null,"\u526f\u672c"),"."),r.a.createElement("p",null,"\u5bf9\u4e8e React FC, \u6211\u4eec\u5c3d\u53ef\u80fd\u9075\u5faa\u4e00\u4e2a\u539f\u5219: ",r.a.createElement("strong",null,"\u80fd\u4e0d\u91cd\u65b0\u6e32\u67d3\u7684, \u5c31\u4e0d\u8981\u91cd\u65b0\u6e32\u67d3"),'. "\u91cd\u65b0\u4ece Virtual DOM \u6e32\u67d3\u51fa\u5bf9\u5e94\u7684 state \u4e00\u6a21\u4e00\u6837\u7684 DOM"\u672c\u8eab\u5c31\u662f\u79cd\u6d6a\u8d39.'),r.a.createElement("p",null,r.a.createElement("strong",null,"\u6ce8\u610f")," \u5b9e\u9645\u4e0a ",r.a.createElement("code",null,"<input />")," \u5e76\u4e0d\u4f1a\u56e0\u4e3a\u4f20\u5165\u7684 ",r.a.createElement("code",null,"onChange")," \u53d8\u5316\u800c\u4ea7\u751f\u5de8\u5927\u7684\u8ba1\u7b97, \u4f46\u6211\u4eec\u6253\u5f00\u601d\u8def, \u5047\u8bbe\u6709\u4e00\u4e2a...",r.a.createElement("code",null,"<ComplexInput onEvent=","{","onComplexEvent","}"," />")," , \u800c ",r.a.createElement("code",null,"onComplexEvent")," \u7684\u53d8\u5316\u4f1a\u5bfc\u81f4 ",r.a.createElement("code",null,"<ComplexInput />")," \u7684\u5185\u90e8\u505a\u975e\u5e38\u591a\u7684\u8ba1\u7b97\u5462?"),r.a.createElement("h2",{id:"\u4e00\u4e2a\u5e7d\u7075\u573a\u666f"},r.a.createElement(l["AnchorLink"],{to:"#\u4e00\u4e2a\u5e7d\u7075\u573a\u666f","aria-hidden":"true",tabIndex:-1},r.a.createElement("span",{className:"icon icon-link"})),"\u4e00\u4e2a\u5e7d\u7075\u573a\u666f"),r.a.createElement("p",null,"\u5728\u4e4b\u524d\u7684\u4f8b\u5b50\u4e2d, \u6211\u4eec\u5e0c\u671b onTextChange \u59cb\u7ec8\u4fdd\u6301\u4e0d\u53d8, \u4f46\u6709\u65f6\u5019, \u6211\u4eec\u5e0c\u671b\u67d0\u4e9b\u51fd\u6570",r.a.createElement("strong",null,"\u4ec5\u5728\u67d0\u4e9b\u5176\u5b83\u6709\u72b6\u6001\u7684\u53d8\u91cf\u53d8\u5316\u7684\u65f6\u5019\u53d1\u751f\u53d8\u5316"),". \u5e76\u4e14, \u5f88\u6709\u53ef\u80fd\u4f60\u4f1a\u9047\u5230\u4e00\u4e9b\u5947\u602a\u7684\u73b0\u8c61."),r.a.createElement("p",null,"\u63a5\u4e0b\u6765\u6211\u4eec\u60f3\u8c61\u4e00\u4e2a\u7a0d\u5fae\u590d\u6742\u4e00\u70b9\u7684\u573a\u666f: \u4f60\u6709\u4e00\u4e2a antd \u7684 ",r.a.createElement("code",null,"<Table />")," \u7ec4\u4ef6, \u5e76\u6253\u5f00\u4e86 sort \u529f\u80fd, \u5f53\u4f60\u70b9\u51fb\u67d0\u4e00\u5217\u7684\u8868\u5934\u7684\u65f6\u5019, \u4f60\u9700\u8981\u6839\u636e\u5217\u7684 column index(sortBy) \u4ee5\u53ca\u6392\u5e8f\u987a\u5e8f(orderBy), \u4ece\u8fdc\u7aef\u62c9\u53d6\u6570\u636e, \u7136\u540e\u66f4\u65b0\u5217\u8868\u4e2d\u7684\u6570\u636e."),r.a.createElement("p",null,"\u8fd9\u4e2a\u573a\u666f\u7565\u5fae\u6709\u70b9\u590d\u6742, \u4f60\u6709\u5fc5\u8981\u9605\u8bfb\u4e0b\u8fd9\u4e2a\u4f8b\u5b50\u7684\u4ee3\u7801:")),r.a.createElement(o["default"],u["default"]["ghost-on-react-hooks-demo-2"].previewerProps,r.a.createElement(i,null)),r.a.createElement("div",{className:"markdown"},r.a.createElement("p",null,"\u5728\u8fd9\u4e2a\u4f8b\u5b50\u4e2d:"),r.a.createElement("ul",null,r.a.createElement("li",null,"\u751f\u6210\u4e86\u4e00\u4e2a\u5217\u6570\u636e\u6570\u7ec4 dataSource , \u5176 f1 \u662f\u7a33\u5b9a\u7684\u6709\u5e8f\u6570\u7ec4, \u4e14 dataSource \u6309\u7167 f1 \u5012\u5e8f\u6392\u5e8f(desc order)"),r.a.createElement("li",null,"\u5c06 dataSource \u4f5c\u4e3a listData \u7684\u521d\u59cb\u503c"),r.a.createElement("li",null,r.a.createElement("code",null,"<Table />")," \u7ec4\u4ef6\u4ee5 listData \u4e3a\u6570\u636e\u6e90"),r.a.createElement("li",null,'\u5c06 loadData \u4f5c\u4e3a"\u6839\u636e sortBy, orderBy \u62c9\u53d6\u8fdc\u7aef"\u6570\u636e\u7684\u52a8\u4f5c, \u66f4\u65b0 listData.')),r.a.createElement("p",null,"\u6211\u4eec\u7684\u8bbe\u60f3\u662f: \u5f53 ",r.a.createElement("code",null,"<Table />")," \u7684\u5217\u8868\u5934\u88ab\u70b9\u51fb\u65f6, \u6839\u636e antd Table \u7ec4\u4ef6\u7684\u7279\u6027, \u4f1a\u89e6\u53d1 ",r.a.createElement("code",null,"handlePageChange"),", \u5728\u5176\u4e2d ",r.a.createElement("code",null,"setSortBy"),", ",r.a.createElement("code",null,"setOrderBy")," \u4f1a\u88ab\u8c03\u7528, \u5e76\u4e14 ",r.a.createElement("code",null,"loadData"),' \u88ab\u8c03\u7528, \u53bb"\u62c9\u53d6"\u6309\u7167\u6c42\u6392\u5e8f\u597d\u7684\u6570\u636e\u5217\u8868. \u540c\u65f6, \u7531\u4e8e ',r.a.createElement("code",null,"loadData")," \u5185\u90e8\u4f7f\u7528\u4e86 ",r.a.createElement("code",null,"sortBy")," \u548c ",r.a.createElement("code",null,"orderBy"),", \u56e0\u6b64\u6211\u4eec\u7528 ",r.a.createElement("code",null,"const loadData = useCallback(cb, [sortBy, orderBy])")," \u6765\u8868\u793a: ",r.a.createElement("strong",null,"\u4ec5\u5f53 sortBy \u6216 orderBy \u66f4\u65b0\u7684\u65f6\u5019, \u5c06 loadData \u66f4\u65b0\u4e3a\u65b0\u7684\u526f\u672c")),r.a.createElement("p",null,"\u770b\u8d77\u6765, \u8fd9\u4e00\u5207\u6ca1\u4ec0\u4e48\u95ee\u9898. \u6211\u4eec\u5e0c\u671b, \u5f53\u6211\u4eec\u591a\u6b21\u70b9\u51fb f1 \u8fd9\u4e00\u5217\u7684\u8868\u5934\u65f6:"),r.a.createElement("ol",null,r.a.createElement("li",null,'\u7b2c\u4e00\u6b21\u70b9\u51fb f1 \u8868\u5934: sorter \u4f1a\u5207\u6362\u5230"\u4ee5 f1 ',r.a.createElement("strong",null,"\u5347\u5e8f"),'\u6392\u5e8f", loadData \u62c9\u5230\u4ee5 f1 asc order \u7684\u6570\u636e, \u66f4\u65b0 ',r.a.createElement("code",null,"<Table />")," \u7ec4\u4ef6"),r.a.createElement("li",null,'\u7b2c\u4e8c\u6b21\u70b9\u51fb f1 \u8868\u5934: sorter \u5c06\u4f1a\u5207\u6362\u5230"\u4ee5 f1 ',r.a.createElement("strong",null,"\u5012\u5e8f"),'\u6392\u5e8f", loadData \u62c9\u5230\u4ee5 f1 desc order \u7684\u6570\u636e, \u66f4\u65b0 ',r.a.createElement("code",null,"<Table />")," \u7ec4\u4ef6"),r.a.createElement("li",null,'\u7b2c\u4e09\u6b21\u70b9\u51fb f1 \u8868\u5934: sorter \u5c06\u4f1a\u5207\u6362\u5230"\u9ed8\u8ba4\u65e0\u72b6\u6001", \u6b64\u79cd\u72b6\u6001\u4e0b, loadData \u62c9\u5230 dataSource \u539f\u59cb\u6570\u636e\u7684\u526f\u672c(\u5b9e\u9645\u4e0a\u4e5f\u5c31\u662f\u4ee5 f1 \u5012\u5e8f\u6392\u5e8f)')),r.a.createElement("p",null,"\u4e3a\u4e86\u9a8c\u8bc1\u6211\u4eec\u7684\u9884\u671f, \u6211\u4eec:"),r.a.createElement("p",null,"\u5728 handlePageChange \u7684\u5f00\u5934\u6253\u5370\u51fa ",r.a.createElement("code",null,"<Table />")," \u7ed9\u51fa\u7684 sorter \u4fe1\u606f \u5728 loadData \u6253\u5370 ",r.a.createElement("code",null,"sortBy")," \u548c ",r.a.createElement("code",null,"orderBy")),r.a.createElement("p",null,"\u73b0\u5728\u8fde\u7eed\u70b9\u51fb\u4e0a\u9762\u90a3\u4e2a\u4f8b\u5b50\u7684 f1 \u7684\u8868\u5934 3 \u6b21, \u5f97\u5230\u5982\u4e0b\u65e5\u5fd7:"),r.a.createElement("p",null,r.a.createElement("img",{src:"https://p6.music.126.net/obj/wo3DlcOGw6DClTvDisK1/9047835038/8a5d/ecf3/c78b/e43238ef774925016354bff0d6553d9c.png",alt:"img"})),r.a.createElement("p",null,"What? \u4e3a\u4ec0\u4e48\u4f1a\u7b2c\u4e00\u70b9\u51fb\u4e4b\u540e, \u6211\u4eec\u83b7\u53d6\u7684 ",r.a.createElement("code",null,"sortBy"),", ",r.a.createElement("code",null,"orderBy")," \u7684\u503c\u90fd\u662f null?"),r.a.createElement("p",null,"\u4e0d\u4ec5\u5982\u6b64, \u4f3c\u4e4e\u6bcf\u6b21 ",r.a.createElement("code",null,"loadData")," \u90fd\u6ca1\u6709\u771f\u6b63\u83b7\u5f97\u6211\u4eec\u5728 ",r.a.createElement("code",null,"handlePageChange")," \u91cc\u901a\u8fc7 ",r.a.createElement("code",null,"setSortBy"),", ",r.a.createElement("code",null,"setOrderBy")," \u8bbe\u5b9a\u7684\u6700\u65b0\u7684 ",r.a.createElement("code",null,"sortBy"),", ",r.a.createElement("code",null,"orderBy"),". \u4f46\u662f\u6211\u4eec\u4e0d\u662f\u660e\u660e\u901a\u8fc7 ",r.a.createElement("code",null,"const loadData = useCallback(cb, [sortBy, orderBy])")," \u8bbe\u5b9a\u4e86, \u4e00\u65e6\u4e24\u4e2a\u4f9d\u8d56\u7684\u53d8\u91cf\u66f4\u65b0, loadData \u8981\u66f4\u65b0\u5417?"),r.a.createElement("p",null,"\u4e3a\u4e86\u89e3\u91ca\u8fd9\u4e2a\u95ee\u9898, \u6211\u4eec\u8981\u6e05\u695a\u4e00\u70b9, \u53ea\u6709\u5f53 FC \u8fdb\u884c\u91cd\u65b0\u6e32\u67d3\u7684\u65f6\u5019, ",r.a.createElement("code",null,"useCallback(cb, [sortBy, orderBy])")," \u6240\u6807\u8bb0\u7684\u6709\u72b6\u6001\u7684\u51fd\u6570\u526f\u672c\u624d\u4f1a\u88ab\u66f4\u65b0!"),r.a.createElement("p",null,"\u56de\u987e\u4e00\u4e0b\u4e0a\u6587\u4e2d\u5173\u4e8e FC \u4e2d ",r.a.createElement("code",null,"useCallback")," \u673a\u5236\u7684\u5de5\u4f5c\u539f\u7406, \u6211\u4eec\u7528\u540c\u6837\u7684\u65b9\u5f0f\u6211\u4eec\u5206\u6790\u4e0b\u8fd9\u4e2a\u4f8b\u5b50\u4e2d\u7684\u91cd\u6e32\u67d3\u6d41\u7a0b:"),r.a.createElement(c["a"],{code:"+++++++++ first time render ++++++++\nsortBy := useState()\norderBy := useState()\n\nloadData = useCallback(cb, [sortBy, orderBy]) // now it's snapshot_v1\nhandlePageChange = useCallback(cb, [loadData])\n\n...(asynchronous -- \"when table head of f1 colum clicked\":\n------- setSortBy(xxx) ---\x3e update sortBy on next tick\n------- setOrderBy(xxx) ---\x3e update orderBy on next tick\n------- loadData() --- still snapshot_v1, hasn't been updated!\n)\n...( trigger re-render )\n+++++++++ second time render ++++++++\nsortBy := useState() <--- updated\norderBy := useState() <--- updated\n\nloadData = useCallback(cb, [sortBy, orderBy]) // now it's snapshot_v2\nhandlePageChange = useCallback(cb, [loadData])\n...",lang:"plain"}),r.a.createElement("p",null,"\u663e\u800c\u6613\u89c1, \u5f53\u7b2c\u4e00\u6b21 f1 \u5217\u7684\u8868\u5934\u88ab\u70b9\u51fb\u7684\u65f6\u5019, \u5c3d\u7ba1\u6211\u4eec\u5df2\u7ecf\u8c03\u7528 ",r.a.createElement("code",null,"setSortBy"),", ",r.a.createElement("code",null,"setOrderBy"),", \u4f46\u7d27\u63a5\u7740\u7acb\u523b\u88ab\u8c03\u7528\u7684 ",r.a.createElement("code",null,"loadData")," \u7248\u672c\u4f9d\u7136\u662f\u4e4b\u524d\u7684 ",r.a.createElement("strong",null,"snapshot_v1"),"!"),r.a.createElement("p",null,'\u56e0\u6b64, \u548c\u6211\u4eec\u7684\u9884\u671f\u76f8\u6bd4, \u5b9e\u9645\u4e0a\u4f60\u4f1a\u611f\u89c9\u6bcf\u4e00\u6b21"\u70b9\u51fb f1 \u5217\u7684\u8868\u5934"\u5bf9\u5e94\u7684\u66f4\u65b0\u6570\u636e\u52a8\u4f5c\u603b\u662f\u4f1a"\u6162\u4e00\u62cd", \u56e0\u4e3a ',r.a.createElement("code",null,"loadData")," \u7684\u503c\u603b\u662f",r.a.createElement("strong",null,"\u6bd4\u4f60\u8ba4\u4e3a\u7684\u7248\u672c"),"\u8981\u65e7. \u8fd9\u4e2a\u65e7\u7248\u672c\u503c\u50cf\u4e00\u4e2a\u5e7d\u7075 , \u603b\u662f\u8ddf\u5728\u4f60\u7684\u6700\u65b0\u64cd\u4f5c\u4e2d."),r.a.createElement("h2",{id:"\u5982\u4f55\u6539\u8fdb"},r.a.createElement(l["AnchorLink"],{to:"#\u5982\u4f55\u6539\u8fdb","aria-hidden":"true",tabIndex:-1},r.a.createElement("span",{className:"icon icon-link"})),"\u5982\u4f55\u6539\u8fdb"),r.a.createElement("p",null,'\u5bf9\u4e8e\u8fd9\u79cd"\u5e7d\u7075"\u60c5\u51b5, \u4e0d\u8981\u5728 ',r.a.createElement("code",null,"setSortBy"),", ",r.a.createElement("code",null,"setOrderBy")," \u4e4b\u540e, \u7acb\u523b\u8c03\u7528\u5bf9\u5b83\u4eec\u7684\u503c\u6709\u4f9d\u8d56\u7684 ",r.a.createElement("code",null,"loadData"),". \u6211\u4eec\u53ef\u4ee5\u8f6c\u4e3a\u53e6\u5916\u4e24\u79cd\u65b9\u5f0f:"),r.a.createElement("ol",null,r.a.createElement("li",null,"\u5f53 ",r.a.createElement("code",null,"handlePageChange")," \u88ab\u89e6\u53d1\u65f6, \u5c06 ",r.a.createElement("code",null,"sortBy")," \u548c ",r.a.createElement("code",null,"orderBy")," \u76f4\u63a5\u4f5c\u4e3a\u53c2\u6570\u4f20\u9012\u7ed9 ",r.a.createElement("code",null,"loadData"),"."),r.a.createElement("li",null,"**(\u4e0d\u63a8\u8350)**\u4f7f\u7528 ",r.a.createElement("code",null,"useEffect")," \u89c2\u5bdf ",r.a.createElement("code",null,"sortBy")," \u548c ",r.a.createElement("code",null,"orderBy")," \u7684\u53d8\u5316, \u5f53\u4e24\u4e2a\u503c\u53d8\u5316\u65f6, \u518d\u8c03\u7528 ",r.a.createElement("code",null,"loadData"),".")),r.a.createElement("p",null,"\u5728\u8fd9\u4e2a\u4f8b\u5b50\u4e2d, \u6211\u63a8\u8350\u65b9\u5f0f 1."),r.a.createElement("p",null,"\u65b9\u5f0f 2 \u7684\u95ee\u9898\u662f: \u4f60\u53ef\u80fd\u65e0\u6cd5\u4fdd\u8bc1\u6309\u5e8f\u8c03\u7528\u7684 ",r.a.createElement("code",null,"setSortBy"),", ",r.a.createElement("code",null,"setOrderBy")," \u6240\u5f15\u8d77\u7684\u72b6\u6001\u53d8\u66f4\u603b\u662f\u53d1\u751f\u5728\u540c\u4e00\u6279 React State Update \u4e2d. \u5982\u679c\u56e0\u4e3a React \u7684\u672a\u6765\u7684\u5b9e\u73b0\u4ea7\u751f\u53d8\u66f4, \u6216\u8005\u56e0\u4e3a\u7528\u6237\u672a\u6765\u65e0\u610f\u8bc6\u6dfb\u52a0\u4e86\u4e00\u4e9b\u52a3\u5316\u4ee3\u7801, \u5b83\u4eec\u5f15\u53d1\u4e86\u4e24\u6b21 FC re-render, \u5728\u6548\u679c\u4e0a, \u4f60\u53ef\u80fd\u4f1a\u89c2\u5bdf\u5230\u8fde\u7eed\u4e24\u6b21 ",r.a.createElement("code",null,"loadData"),"."),r.a.createElement(c["a"],{code:"// \u4e0d\u591f\u597d\u7684\u65b9\u5f0f 2\nconst [sortBy, setSortBy] = React.useState(null);\nconst [orderBy, setOrderBy] = React.useState(null);\n\nconst loadData = React.useCallback(asyncCb, [sortBy, orderBy]);\n\nReact.useEffect(() => {\n  // \u5982\u679c sortBy, orderBy \u7684\u66f4\u65b0\u88ab\u653e\u5728\u4e86\u4e24\u4e2a React State Update \u66f4\u65b0\u6279\u6b21(\u5c3d\u7ba1\u53ef\u80fd\u6027\u5fae\u4e4e\u5176\u5fae)\n  // \u5219\u8fd9\u91cc\u53ef\u80fd\u4f1a\u88ab\u8fde\u7eed\u89e6\u53d1\u4e24\u6b21 loadData\n  loadData();\n}, [sortBy, orderBy]);",lang:"jsx"}),r.a.createElement("p",null,"\u5982\u679c\u4e00\u5b9a\u8981\u4f7f\u7528\u65b9\u5f0f 2, \u5efa\u8bae\u5c06 ",r.a.createElement("code",null,"sortBy"),", ",r.a.createElement("code",null,"orderBy")," \u653e\u5728\u540c\u4e00\u4e2a\u5bf9\u8c61\u4e2d\u4f5c\u4e3a\u4e00\u4e2a\u72b6\u6001:"),r.a.createElement(c["a"],{code:"// \u6539\u8fdb\u7684\u65b9\u5f0f 2\nconst [ sorterInfo, setSorterInfo ] = React.useState({ sortBy: ..., orderBy: ... });\nconst loadData = React.useCallback(asyncCb, [ sorterInfo.sortBy, sorterInfo.orderBy ]);\n\nReact.useEffect(() => {\n    // \u8feb\u4f7f\u7528\u6237\u6709\u610f\u8bc6\u5730\u66f4\u65b0 sorterInfo \u5bf9\u8c61, \u4ece\u800c\u4fdd\u8bc1 sortBy/orderBy \u540c\u65f6\u66f4\u65b0\u7684\u65f6\u5019\u4e5f\u53ea\u89e6\u53d1\u4e00\u6b21 loadData\n    loadData();\n}, [ sorterInfo ]);",lang:"jsx"}),r.a.createElement("p",null,"\u8fd9\u6837, \u5f53\u4f60\u660e\u786e\u5730\u540c\u65f6\u66f4\u65b0 ",r.a.createElement("code",null,"sortBy")," \u548c ",r.a.createElement("code",null,"orderBy"),", ",r.a.createElement("code",null,"useEffect")," \u53ea\u4f1a\u89c2\u5bdf\u5230 ",r.a.createElement("code",null,"sorterInfo")," \u7684\u66f4\u65b0, \u4ece\u800c\u53ea\u89e6\u53d1\u4e00\u6b21 ",r.a.createElement("code",null,"loadData"),"."),r.a.createElement("p",null,"\u6700\u540e, \u653e\u51fa\u5b8c\u6574\u7248\u7684\u53ef\u7528\u7684\u4f8b\u5b50:")),r.a.createElement(o["default"],u["default"]["ghost-on-react-hooks-demo-3"].previewerProps,r.a.createElement(m,null)),r.a.createElement("div",{className:"markdown"},r.a.createElement("hr",null),r.a.createElement("h2",{id:"\u5de5\u4f5c\u673a\u4f1a"},r.a.createElement(l["AnchorLink"],{to:"#\u5de5\u4f5c\u673a\u4f1a","aria-hidden":"true",tabIndex:-1},r.a.createElement("span",{className:"icon icon-link"})),"\u5de5\u4f5c\u673a\u4f1a"),r.a.createElement("p",null,"\u82e5\u4f60\u662f\u6821\u62db\u751f\u6b63\u5728\u5bfb\u6c42\u5b9e\u4e60, \u6216\u8005\u4f60\u8003\u8651\u6362\u5de5\u4f5c, \u53ef\u5c06\u7b80\u5386\u53d1\u5230 ",r.a.createElement("strong",null,"richardo2016#gmail.com"),". \u6211\u53ef\u534f\u52a9\u5185\u63a8\u4ee5\u4e0b\u516c\u53f8:"),r.a.createElement("ul",null,r.a.createElement("li",null,"\u963f\u91cc\u5df4\u5df4(\u6df1\u5733, \u676d\u5dde, \u5317\u4eac, \u4e0a\u6d77, \u6210\u90fd)"),r.a.createElement("li",null,"\u7f51\u6613(\u676d\u5dde)"),r.a.createElement("li",null,"\u817e\u8baf(\u6210\u90fd, \u6df1\u5733)"),r.a.createElement("li",null,"\u5b57\u8282\u8df3\u52a8(\u676d\u5dde)"))))))},Zs1V:function(e){e.exports=JSON.parse("{}")}}]);